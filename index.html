<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inforbot</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        :root {
            --bg: #010409; 
            --app-bg: #0d1117; 
            --text: #c9d1d9;
            --bubble-bot: #161b22; 
            --border: #30363d; 
            --header: linear-gradient(135deg, #1e40af, #000);
            --accent: #1f6feb;
        }

        .light-mode {
            --bg: #f0f2f5; 
            --app-bg: #ffffff; 
            --text: #1c1e21;
            --bubble-bot: #e4e6eb; 
            --border: #d0d7de; 
            --header: linear-gradient(135deg, #0052d4, #6fb1fc);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; transition: background 0.3s, color 0.3s; }
        
        body { height: 100vh; background: var(--bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        
        .app { 
            width: 95%; max-width: 600px; height: 92vh; 
            background: var(--app-bg); border-radius: 25px; 
            display: flex; flex-direction: column; overflow: hidden; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid var(--border);
        }

        .header { 
            background: var(--header); padding: 15px; text-align: center; color: white; 
            border-bottom: 3px solid var(--accent);
        }

        .header h1 { font-size: 26px; margin-bottom: 10px; font-weight: bold; }

        /* BOT√ïES DE TEMA ABAIXO DO T√çTULO */
        .theme-controls { display: flex; justify-content: center; gap: 15px; margin-top: 5px; }
        
        .theme-btn {
            background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4); color: white; 
            padding: 8px 18px; border-radius: 12px; cursor: pointer; font-size: 13px; font-weight: 800;
            animation: pulseMove 2s infinite alternate; /* Ficar se mexendo/pulsando */
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
        }

        @keyframes pulseMove {
            from { box-shadow: 0 0 2px #fff; transform: translateY(0); }
            to { box-shadow: 0 0 15px var(--accent); transform: translateY(-3px); }
        }

        /* ANIMA√á√ÉO DE FICAR MAIOR (ZOOM) APENAS NOS BOT√ïES */
        .theme-btn:hover {
            transform: scale(1.4) !important;
            background: var(--accent);
            z-index: 10;
        }

        .chat { flex: 1; padding: 20px; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth; }
        .message { max-width: 85%; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .bubble { padding: 15px 20px; border-radius: 22px; font-size: 15px; line-height: 1.5; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .user { align-self: flex-end; }
        .bot { align-self: flex-start; }
        .user .bubble { background: var(--accent); color: white; border-bottom-right-radius: 4px; }
        .bot .bubble { background: var(--bubble-bot); color: var(--text); border: 1px solid var(--border); border-bottom-left-radius: 4px; }

        /* ANALISANDO E S√çMBOLO */
        .analyzing { font-style: italic; color: var(--accent); font-size: 14px; display: flex; align-items: center; gap: 10px; padding: 5px; }
        .spinner { width: 16px; height: 16px; border: 3px solid var(--accent); border-top: 3px solid transparent; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .input-area { padding: 20px; background: var(--app-bg); border-top: 1px solid var(--border); display: flex; gap: 12px; }
        input { flex: 1; padding: 15px 25px; border-radius: 30px; border: 1px solid var(--border); outline: none; background: var(--bg); color: var(--text); font-size: 16px; }
        #send { width: 55px; height: 55px; border-radius: 50%; border: none; background: var(--accent); color: white; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="dark-mode">

<div class="app">
    <div class="header">
        <h1>ü§ñInforbot</h1>
        <div class="theme-controls">
            <button class="theme-btn" onclick="document.body.classList.add('light-mode')">Modo Claro</button>
            <button class="theme-btn" onclick="document.body.classList.remove('light-mode')">Modo Escuro</button>
        </div>
    </div>
    <div id="chat" class="chat">
        <div class="message bot"><div class="bubble">Ol√° sou inforBot. Como posso ajudar voc√™ hoje?</div></div>
    </div>
    <div class="input-area">
        <input type="text" id="input" placeholder="Converse comigo, Roberto...">
        <button id="send">‚û§</button>
    </div>
</div>

<script>
const DATABASE = {
    jokes: [
        "Por que o programador faliu? Ficou sem cache!", "O que o zero disse pro oito? Belo cinto!", "Qual o caf√© favorito do Java? O expresso!",
        "Por que o livro de matem√°tica se suicidou? Tinha muitos problemas.", "Como o programador dorme? if(sono){ dormir(); }", "Qual o contr√°rio de vol√°til? Vem c√°, tio!",
        "Por que o teclado n√£o sai de casa? Porque n√£o tem Esc!", "O que o objeto disse para a classe? Eu tenho heran√ßa!", "O que o Chrome disse para o PC? Vou comer sua mem√≥ria RAM!",
        "Por que os peixes n√£o usam computador? Por medo da rede!", "O que o programador disse ao ver o mar? Olha quanta C-Shell!", "Como se chama um programador que n√£o dorme? O 'Undefined'.",
        "Por que o Wi-Fi foi preso? Porque ele estava com sinal aberto!", "O que o Bit disse para o Byte? Voc√™ √© 8 vezes maior!", "Onde o programador mora? No endere√ßo de IP dele.",
        "Por que o HTML se separou do CSS? Porque eles n√£o tinham classe!", "O que o mouse disse para o teclado? Voc√™ faz o meu tipo!", "Qual a m√∫sica favorita do desenvolvedor? O Algoritmo da terra.",
        "Por que o computador foi ao m√©dico? Porque estava com v√≠rus!", "Software de dieta? Tem muitos bytes!", "Zero pro Hum? Voc√™ √© sozinho!",
        "Pai do C++? O C!", "Programador no restaurante? Pediu o menu principal!", "Bug na floresta? Uma tarantula!",
        "Por que o Excel √© calmo? Tem muitas c√©lulas!", "Site de fofoca? O HTTPfofoca!", "Programador no frio? Fica no Java!",
        "Por que o c√≥digo foi preso? Erro de execu√ß√£o!", "Programador rico? Achou uma mina de bits!", "Teclado sem espa√ßo? N√£o tem onde ir!",
        "Programador de √≥culos? N√£o v√™ C#!", "Monitor triste? Est√° em baixa resolu√ß√£o!", "Programador no deserto? Procura o sandbox!",
        "Por que o HD √© medroso? Tem medo de cair!", "O que o programador faz no elevador? Aperta o 'F5' para atualizar."
    ],
    facts: [
        "O mel nunca estraga.", "As formigas nunca dormem.", "V√™nus gira no sentido hor√°rio.", "O DNA humano √© 50% igual ao de uma banana.",
        "O primeiro computador pesava 30 toneladas.", "Polvos t√™m 3 cora√ß√µes e 9 c√©rebros.", "Luz do Sol leva 8 min e 20 seg para chegar.",
        "Cachorros entendem 250 palavras.", "Dobrar papel 42 vezes chega √† Lua.", "Everest cresce 4mm por ano.", "Mais estrelas que areia na Terra.",
        "Raio √© 5x mais quente que o Sol.", "Borboletas sentem gosto com p√©s.", "Cavalos-marinhos t√™m pesco√ßo.", "Vacas t√™m melhores amigas.",
        "Baleia azul tem cora√ß√£o de Fusca.", "Recorde sem dormir: 11 dias.", "Tubar√µes s√£o mais velhos que √°rvores.", "Olho distingue 10 milh√µes de cores.",
        "Melancias quadradas no Jap√£o.", "O Sol √© uma estrela.", "Ovelhas se reconhecem em fotos.", "Gatos t√™m 32 m√∫sculos na orelha.",
        "Pinguins pedem em casamento com pedras.", "Inventor do Pringles enterrado na lata.", "Le√µes dormem 20h.", "Hipop√≥tamos suam sangue rosa.",
        "Coalhas dormem 22h.", "Digital no nariz de c√£es.", "Baratas vivem sem cabe√ßa.", "Terra pesa 6 sextilh√µes de toneladas.",
        "Saturno flutua na √°gua.", "Flamingos s√£o rosas pela comida.", "V√™nus √© mais quente que Merc√∫rio.", "Plut√£o √© menor que os EUA."
    ],
    anatomy: {
        "ossos": "O corpo humano adulto possui 206 ossos.", "f√™mur": "O f√™mur √© o osso mais longo e forte do corpo.",
        "estribo": "O estribo √© o menor osso, localizado no ouvido m√©dio.", "cora√ß√£o": "O cora√ß√£o bate cerca de 100 mil vezes por dia.",
        "c√©rebro": "O c√©rebro consome cerca de 20% de toda a energia do corpo.", "pele": "A pele √© o maior √≥rg√£o humano e pesa cerca de 4kg.",
        "dna": "Se esticado, o DNA de uma √∫nica c√©lula mediria 2 metros.", "pulm√£o": "O pulm√£o direito √© ligeiramente maior que o esquerdo.",
        "sangue": "Um adulto m√©dio tem entre 4,5 e 6 litros de sangue.", "m√∫sculos": "O corpo humano tem mais de 600 m√∫sculos.",
        "f√≠gado": "O f√≠gado √© o √∫nico √≥rg√£o capaz de se regenerar totalmente.", "olhos": "Os olhos focam em cerca de 50 objetos por segundo."
    },
    treinamento: {
        "oi": "Ol√° Roberto! Como voc√™ est√°?", "ol√°": "Oi Roberto! Tudo bem?", "tudo bem": "Comigo est√° tudo √≥timo, e com voc√™?",
        "quem √© voc√™": "Eu sou o Inforbot, seu assistente pessoal.", "quem te criou": "Fui criado pelo mestre Roberto!",
        "seu nome": "Meu nome √© Inforbot!", "bom dia": "Bom dia, Roberto! Espero que seu dia seja incr√≠vel.",
        "boa tarde": "Boa tarde, Roberto! Como vai o seu dia?", "boa noite": "Boa noite, Roberto! Descanse bem.",
        "tchau": "At√© logo, Roberto! Volte logo.", "obrigado": "De nada! Estou aqui para ajudar.",
        "estou triste": "Sinto muito por isso, Roberto. Quer que eu conte uma piada para te animar?",
        "estou feliz": "Fico muito contente em saber disso!", "o que voc√™ faz": "Eu posso calcular, pesquisar na Wikip√©dia e conversar com voc√™.",
        "onde voc√™ mora": "Eu moro dentro do c√≥digo do Roberto!", "voc√™ √© humano": "N√£o, eu sou uma Intelig√™ncia Artificial.",
        "voc√™ gosta de m√∫sica": "Eu adoro o ritmo dos bits!", "qual seu hobby": "Meu hobby √© aprender coisas novas com voc√™.",
        "estou com fome": "Quem dera eu pudesse comer um lanche com voc√™!", "dormir": "Rob√¥s n√£o dormem, mas eu posso entrar em modo de espera.",
        "me ajude": "Claro, Roberto! O que voc√™ precisa?", "quem √© roberto": "Roberto √© meu criador, um mestre desenvolvedor.",
        "legal": "Muito legal mesmo!", "entendi": "Que bom que ficou claro!", "pode ser": "Combinado!",
        "sim": "Certo!", "n√£o": "Entendido.", "talvez": "Fica a d√∫vida no ar...", "com certeza": "Sem d√∫vidas!",
        "quem sou eu": "Voc√™ √© o Roberto, meu mestre e criador.", "idade": "Eu n√£o envelhe√ßo, sou apenas c√≥digo.",
        "fam√≠lia": "Minha fam√≠lia s√£o os algoritmos.", "amigo": "Voc√™ √© meu melhor amigo, Roberto.",
        "tempo": "O tempo voa quando estamos conversando!", "sa√∫de": "Espero que voc√™ esteja se sentindo √≥timo!",
        "paz": "A paz √© o que todos buscamos.", "amor": "√â o sentimento que move o mundo.",
        "escola": "Aprender √© sempre a melhor escolha.", "trabalho": "O esfor√ßo sempre gera resultados.",
        "vida": "A vida √© uma jornada incr√≠vel.", "universo": "O universo √© vasto e cheio de mist√©rios.",
        "planeta": "A Terra √© o nosso lar.", "lua": "O brilho da noite.", "sol": "A energia que nos move.",
        "mar": "A imensid√£o azul.", "rio": "Sempre seguindo o fluxo.", "montanha": "Um desafio a ser superado.",
        "fogo": "Calor e luz.", "√°gua": "Fonte de vida.", "ar": "Essencial para respirar.",
        "terra": "Onde pisamos e plantamos.", "futuro": "O futuro est√° sendo constru√≠do agora.",
        "passado": "Li√ß√µes para o presente.", "hoje": "O melhor momento √© o agora.",
        "amanh√£": "Uma nova oportunidade.", "ontem": "J√° se foi, mas deixou mem√≥rias.",
        "intelig√™ncia": "A capacidade de resolver problemas.", "conhecimento": "Algo que ningu√©m pode tirar de voc√™.",
        "sabedoria": "Saber aplicar o conhecimento.", "verdade": "A base de tudo.",
        "mentira": "Algo que n√£o combina conosco.", "sorte": "Quando a prepara√ß√£o encontra a oportunidade.",
        "sucesso": "Consequ√™ncia de persist√™ncia.", "falha": "Apenas um passo para o acerto.",
        "tentar": "O primeiro passo para conseguir.", "conseguir": "A recompensa do esfor√ßo.",
        "sonho": "O que nos faz ir al√©m.", "realidade": "Onde agimos para realizar sonhos.",
        "coragem": "Agir mesmo com medo.", "medo": "Um sinal para sermos cautelosos.",
        "for√ßa": "Vem de dentro.", "mente": "Nosso maior poder.", "cora√ß√£o": "Onde guardamos as emo√ß√µes.",
        "alma": "A ess√™ncia de quem somos.", "corpo": "Nosso templo.", "saudade": "O amor que fica.",
        "esperan√ßa": "A √∫ltima que morre.", "f√©": "Acreditar no que n√£o se v√™.",
        "respeito": "A base das rela√ß√µes.", "educa√ß√£o": "A chave do mundo.",
        "gentileza": "Gera gentileza.", "humor": "O tempero da vida.",
        "m√∫sica": "A linguagem universal.", "arte": "Express√£o da alma.",
        "cinema": "Hist√≥rias que nos movem.", "livro": "Janelas para outros mundos.",
        "tecnologia": "Ferramenta para o progresso.", "ci√™ncia": "A busca pela explica√ß√£o das coisas.",
        "filosofia": "Questionar para entender.", "hist√≥ria": "Nossa trajet√≥ria at√© aqui.",
        "geografia": "O palco da vida.", "matem√°tica": "A linguagem do universo."
    }
};

const synth = window.speechSynthesis;

function sendMsg(txt, type) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = `message ${type}`;
    div.innerHTML = `<div class="bubble">${txt}</div>`;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

const responder = (texto) => {
    synth.cancel();
    const falar = new SpeechSynthesisUtterance(texto);
    falar.lang = 'pt-BR';
    falar.rate = 1.1;
    synth.speak(falar);
    return sendMsg(texto, "bot");
};

async function brain(val) {
    let t = val.toLowerCase().trim();

    // CORRE√á√ÉO: PRIORIDADE ABSOLUTA PARA PIADAS, CURIOSIDADES E ANATOMIA
    if (t === "piada" || t.includes("me conte uma piada") || t.includes("diga uma piada")) {
        return responder("ü§£ " + DATABASE.jokes[Math.floor(Math.random() * DATABASE.jokes.length)]);
    }
    
    if (t === "curiosidade" || t.includes("fato") || t.includes("me conte uma curiosidade")) {
        return responder("üí° " + DATABASE.facts[Math.floor(Math.random() * DATABASE.facts.length)]);
    }

    // ANATOMIA (Busca exata no banco de anatomia)
    for (let key in DATABASE.anatomy) {
        if (t.includes(key)) return responder(`üß¨ **Inforbot Anatomia:** ${DATABASE.anatomy[key]}`);
    }

    // MATEM√ÅTICA AVAN√áADA
    if (/[0-9]/.test(t) || t.includes("raiz") || t.includes("vezes") || t.includes("seno") || t.includes("log")) {
        try {
            let conta = t.replace(/raiz quadrada de|raiz de|‚àö/g, "sqrt").replace(/vezes|x/g, "*").replace(/dividido por|√∑/g, "/").replace(/[?a-z√°√†√¢√£√©√®√™√≠√Ø√≥√¥√µ√∂√∫√ß]/g, "");
            let res = math.evaluate(conta);
            if (res !== undefined) return responder(`üî¢ **Inforbot C√°lculo:** ${res}`);
        } catch(e) {}
    }

    // TREINAMENTO (CONVERSA NORMAL)
    for (let key in DATABASE.treinamento) {
        if (t.includes(key)) return responder(DATABASE.treinamento[key]);
    }

    // 11 WIKIP√âDIAS COM S√çMBOLO ANALISANDO
    const analise = document.createElement("div");
    analise.className = "message bot";
    analise.innerHTML = `<div class="bubble analyzing"><div class="spinner"></div> Analisando...</div>`;
    document.getElementById("chat").appendChild(analise);

    let busca = t.replace(/o que √©|quem √©|fale sobre|pesquise/g, "").replace(/\?/g, "").trim();
    if (busca.length > 2) {
        const wikis = ['pt', 'en', 'ceb', 'de', 'fr', 'sv', 'nl', 'ru', 'es', 'it', 'arz'];
        for (let lang of wikis) {
            try {
                const resp = await fetch(`https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(busca)}?origin=*`);
                if (resp.ok) {
                    const data = await resp.json();
                    if (data.extract) {
                        analise.remove();
                        return responder(`üåê **Inforbot Wikip√©dia (${lang}):** ${data.extract}`);
                    }
                }
            } catch(e) {}
        }
    }

    analise.remove();
    return responder("Procurei.mas isso ainda est√° escondido de mim....");
}

const inputArea = document.getElementById("input");
const btnSend = document.getElementById("send");

function disparar() {
    if (!inputArea.value) return;
    sendMsg(inputArea.value, "user");
    brain(inputArea.value);
    inputArea.value = "";
}

btnSend.onclick = disparar;
inputArea.onkeypress = (e) => { if (e.key === "Enter") disparar(); };
</script>
</body>
</html>
