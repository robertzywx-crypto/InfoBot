<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inforbot</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        :root {
            --bg: #010409; --app-bg: #0d1117; --text: #c9d1d9;
            --bubble-bot: #161b22; --border: #30363d; 
            --header: linear-gradient(135deg, #1e40af, #000);
            --accent: #1f6feb;
        }
        .light-mode {
            --bg: #f0f2f5; --app-bg: #ffffff; --text: #1c1e21;
            --bubble-bot: #e4e6eb; --border: #d0d7de; 
            --header: linear-gradient(135deg, #0052d4, #6fb1fc);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; transition: 0.3s; }
        body { height: 100vh; background: var(--bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .app { width: 95%; max-width: 600px; height: 92vh; background: var(--app-bg); border-radius: 25px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid var(--border); }
        .header { background: var(--header); padding: 15px; text-align: center; color: white; border-bottom: 3px solid var(--accent); }
        .header h1 { font-size: 26px; margin-bottom: 10px; font-weight: bold; }
        .theme-controls { display: flex; justify-content: center; gap: 15px; margin-top: 5px; }
        .theme-btn { background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4); color: white; padding: 8px 18px; border-radius: 12px; cursor: pointer; font-size: 13px; font-weight: 800; animation: pulseMove 2s infinite alternate; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); text-transform: uppercase; }
        @keyframes pulseMove { from { box-shadow: 0 0 2px #fff; transform: translateY(0); } to { box-shadow: 0 0 15px var(--accent); transform: translateY(-3px); } }
        .theme-btn:hover { transform: scale(1.4) !important; background: var(--accent); z-index: 10; }
        .chat { flex: 1; padding: 20px; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth; }
        .bubble { padding: 15px 20px; border-radius: 22px; font-size: 15px; line-height: 1.5; }
        .user-box { align-self: flex-end; max-width: 85%; }
        .bot-box { align-self: flex-start; max-width: 85%; }
        .user-box .bubble { background: var(--accent); color: white; border-bottom-right-radius: 4px; }
        .bot-box .bubble { background: var(--bubble-bot); color: var(--text); border: 1px solid var(--border); border-bottom-left-radius: 4px; }
        .analyzing { font-style: italic; color: var(--accent); font-size: 14px; display: flex; align-items: center; gap: 10px; }
        .spinner { width: 16px; height: 16px; border: 3px solid var(--accent); border-top: 3px solid transparent; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .input-area { padding: 20px; background: var(--app-bg); border-top: 1px solid var(--border); display: flex; gap: 12px; }
        input { flex: 1; padding: 15px 25px; border-radius: 30px; border: 1px solid var(--border); outline: none; background: var(--bg); color: var(--text); font-size: 16px; }
        #send { width: 55px; height: 55px; border-radius: 50%; border: none; background: var(--accent); color: white; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="dark-mode">

<div class="app">
    <div class="header">
        <h1>ü§ñInforbot</h1>
        <div class="theme-controls">
            <button class="theme-btn" onclick="document.body.classList.add('light-mode')">Modo Claro</button>
            <button class="theme-btn" onclick="document.body.classList.remove('light-mode')">Modo Escuro</button>
        </div>
    </div>
    <div id="chat" class="chat">
        <div class="bot-box"><div class="bubble">o que procura hoje chefe</div></div>
    </div>
    <div class="input-area">
        <input type="text" id="input" placeholder="piada, curosidade, ou pesquisa">
        <button id="send">‚û§</button>
    </div>
</div>

<script>
const DATABASE = {
    jokes: [
        "Por que o programador faliu? Ficou sem cache!", "O que o zero disse pro oito? Belo cinto!", "Qual o caf√© favorito do Java? O expresso!",
        "Por que o livro de matem√°tica se suicidou? Tinha muitos problemas.", "Como o programador dorme? if(sono){ dormir(); }", "Qual o contr√°rio de vol√°til? Vem c√°, tio!",
        "Por que o teclado n√£o sai de casa? Porque n√£o tem Esc!", "O que o objeto disse para a classe? Eu tenho heran√ßa!", "O que o Chrome disse para o PC? Vou comer sua mem√≥ria RAM!",
        "Por que os peixes n√£o usam computador? Por medo da rede!", "O que o programador disse ao ver o mar? Olha quanta C-Shell!", "Como se chama um programador que n√£o dorme? O 'Undefined'.",
        "Por que o Wi-Fi foi preso? Porque ele estava com sinal aberto!", "O que o Bit disse para o Byte? Voc√™ √© 8 vezes maior!", "Onde o programador mora? No endere√ßo de IP dele.",
        "Por que o HTML se separou do CSS? Porque eles n√£o tinham classe!", "O que o mouse disse para o teclado? Voc√™ faz o meu tipo!", "Qual a m√∫sica favorita do desenvolvedor? O Algoritmo da terra.",
        "Por que o computador foi ao m√©dico? Porque estava com v√≠rus!", "Software de dieta? Tem muitos bytes!", "Zero pro Hum? Voc√™ √© sozinho!",
        "Pai do C++? O C!", "Programador no restaurante? Pediu o menu principal!", "Bug na floresta? Uma tarantula!",
        "Por que o Excel √© calmo? Tem muitas c√©lulas!", "Site de fofoca? O HTTPfofoca!", "Programador no frio? Fica no Java!",
        "Por que o c√≥digo foi preso? Erro de execu√ß√£o!", "Programador rico? Achou uma mina de bits!", "Teclado sem espa√ßo? N√£o tem onde ir!",
        "Programador de √≥culos? N√£o v√™ C#!", "Monitor triste? Est√° em baixa resolu√ß√£o!", "Programador no deserto? Procura o sandbox!",
        "Por que o HD √© medroso? Tem medo de cair!", "O que o programador faz no elevador? Aperta o 'F5' para atualizar."
    ],
    facts: [
        "O mel nunca estraga.", "As formigas nunca dormem.", "V√™nus gira no sentido hor√°rio.", "O DNA humano √© 50% igual ao de uma banana.",
        "O primeiro computador pesava 30 toneladas.", "Polvos t√™m 3 cora√ß√µes e 9 c√©rebros.", "Luz do Sol leva 8 min e 20 seg para chegar.",
        "Cachorros entendem 250 palavras.", "Dobrar papel 42 vezes chega √† Lua.", "Everest cresce 4mm por ano.", "Mais estrelas que areia na Terra.",
        "Raio √© 5x mais quente que o Sol.", "Borboletas sentem gosto com p√©s.", "Cavalos-marinhos t√™m pesco√ßo.", "Vacas t√™m melhores amigas.",
        "Baleia azul tem cora√ß√£o de Fusca.", "Recorde sem dormir: 11 dias.", "Tubar√µes s√£o mais velhos que √°rvores.", "Olho distingue 10 milh√µes de cores.",
        "Melancias quadradas no Jap√£o.", "O Sol √© uma estrela.", "Ovelhas se reconhecem em fotos.", "Gatos t√™m 32 m√∫sculos na orelha.",
        "Pinguins pedem em casamento com pedras.", "Inventor do Pringles enterrado na lata.", "Le√µes dormem 20h.", "Hipop√≥tamos suam sangue rosa.",
        "Coalhas dormem 22h.", "Digital no nariz de c√£es.", "Baratas vivem sem cabe√ßa.", "Terra pesa 6 sextilh√µes de toneladas.",
        "Saturno flutua na √°gua.", "Flamingos s√£o rosas pela comida.", "V√™nus √© mais quente que Merc√∫rio.", "Plut√£o √© menor que os EUA."
    ],
    anatomy: {
        "ossos": "O corpo humano possui 206 ossos.", "femur": "O f√™mur √© o osso mais longo do corpo.",
        "estribo": "O estribo √© o menor osso, fica no ouvido.", "coracao": "Bate cerca de 100 mil vezes por dia.",
        "cerebro": "Consome 20% da energia do corpo.", "pele": "√â o maior √≥rg√£o humano, pesa cerca de 4kg.",
        "dna": "Esticado, o DNA de uma c√©lula mede 2 metros.", "pulmao": "O pulm√£o direito √© maior que o esquerdo.",
        "sangue": "Um adulto tem entre 4,5 e 6 litros de sangue.", "musculos": "O corpo tem mais de 600 m√∫sculos.",
        "figado": "√â o √∫nico √≥rg√£o que se regenera totalmente.", "olhos": "Focam em 50 objetos por segundo."
    },
    treinamento: {
        "oi": "Oi Roberto! Como voc√™ est√°?", "ola": "Ol√° Roberto! Tudo bem?", "bom dia": "Bom dia, Roberto! Pronto para hoje?", 
        "boa tarde": "Boa tarde, Roberto! Como vai o dia?", "boa noite": "Boa noite, Roberto! Descanse bem.", "e ai": "E a√≠ Roberto! Tudo na paz?",
        "opa": "Opa! No que posso ajudar?", "fala": "Fala, Roberto! Estou ouvindo.", "tudo bem": "Comigo est√° tudo √≥timo, e com voc√™?",
        "tudo bom": "Tudo excelente por aqui!", "como vai": "Vou muito bem, operando em 100%!", "como esta": "Tudo certo nos meus circuitos, Roberto!",
        "beleza": "Beleza pura!", "tranquilo": "Tranquilidade total.", "de boa": "Sempre de boa, Roberto.", "certo": "Cert√≠ssimo!",
        "ok": "Ok, anotado.", "sim": "Com certeza!", "nao": "Entendido, n√£o.", "talvez": "Fica a d√∫vida no ar...", "claro": "Claro, sem problemas!",
        "com certeza": "Pode apostar!", "acho que sim": "Tamb√©m tenho essa impress√£o.", "acho que nao": "√â prov√°vel que n√£o mesmo.",
        "entendi": "Fico feliz que ficou claro, Roberto!", "entendo": "Compreendo perfeitamente.", "verdade": "Pura verdade.", "serio": "Ser√≠ssimo, sem brincadeira!",
        "nossa": "Impressionante, n√©?", "uau": "Incr√≠vel!", "legal": "Muito legal mesmo!", "massa": "Massa demais!", "top": "Top de linha!",
        "show": "Show de bola!", "bacana": "Bem bacana!", "interessante": "Isso me desperta curiosidade.", "estranho": "Realmente, algo n√£o bate.",
        "engracado": "Haha, achei engra√ßado tamb√©m!", "normal": "Tudo dentro do esperado.", "diferente": "Uma abordagem nova, gostei.",
        "por que": "Essa √© a pergunta que move a ci√™ncia, Roberto.", "como assim": "Deixa eu tentar explicar melhor...", "quando": "O tempo √© relativo, mas logo saberemos.",
        "onde": "No vasto mundo dos dados!", "quem": "Algu√©m importante, com certeza.", "o que": "Algo que precisamos descobrir.", "qual": "A melhor op√ß√£o dispon√≠vel.",
        "quanto": "O valor exato eu posso calcular!", "me conta": "Vou te contar tudo o que eu sei.", "explica": "Vou detalhar para voc√™ agora.",
        "continua": "Estou seguindo o racioc√≠nio...", "fala mais": "Posso falar sobre isso o dia todo!", "calma": "Estou calmo, processando devagar.",
        "espera": "Aguardando seu comando, Roberto.", "pera ai": "Parei tudo, pode falar.", "um momento": "Estou aqui, sem pressa.", "agora": "Imediatamente!",
        "depois": "Tudo bem, deixamos para outra hora.", "hoje": "Hoje o dia est√° √≥timo para aprender.", "ontem": "O passado serve de li√ß√£o.", "amanha": "O futuro nos espera!",
        "sempre": "Para todo o sempre.", "nunca": "Jamais, em hip√≥tese alguma.", "as vezes": "Acontece de vez em quando.", "talvez depois": "Combinado, falamos depois.",
        "pode ser": "Fechado!", "fechado": "Combinad√≠ssimo, Roberto.", "combinado": "Tudo certo entre n√≥s.", "beleza entao": "Fechado, Roberto!",
        "ta bom": "Tudo certo.", "ta certo": "Entendido e anotado.", "concordo": "Estamos na mesma sintonia.", "discordo": "Respeito sua opini√£o, Roberto.",
        "acho legal": "Eu tamb√©m achei bem bacana!", "nao sei": "Vou pesquisar para te dar a resposta.", "sei sim": "Conhecimento √© poder!",
        "mais ou menos": "Entendo, nem l√° nem c√°.", "melhor assim": "Com certeza, ficou bem melhor.", "tudo certo": "Perfeito!",
        "tudo tranquilo": "Paz total.", "sem problema": "Zero problemas por aqui.", "problema nenhum": "Tudo fluindo bem.", "relaxa": "Estou relaxado, Roberto!",
        "fica tranquilo": "Pode deixar comigo.", "calma ai": "Opa, respirei fundo.", "entendi agora": "Que bom que clareou!", "faz sentido": "L√≥gica pura.",
        "nao faz sentido": "Realmente, est√° meio confuso.", "boa ideia": "Excelente sacada, Roberto!", "ma ideia": "Melhor repensar isso.",
        "pode ajudar": "Estou aqui para isso!", "me ajuda": "Diga o que precisa, Roberto!", "preciso disso": "Vou fazer o m√°ximo para conseguir.",
        "quero isso": "Vontade √© o primeiro passo!", "gosto disso": "Tamb√©m curti!", "nao gosto": "Entendido, vou evitar.",
        "prefiro assim": "Sua prefer√™ncia √© minha ordem.", "tanto faz": "Voc√™ quem manda.", "depende": "Temos que analisar as vari√°veis.",
        "talvez sim": "H√° uma grande chance.", "talvez nao": "Pode ser que n√£o aconte√ßa.", "vamos ver": "O tempo dir√°.", "quem sabe": "O mist√©rio continua.",
        "tomara": "Estou na torcida, Roberto!", "deus queira": "Seja o que for melhor!", "espero que sim": "Torcendo muito.",
        "acho dificil": "Vai exigir um pouco mais de esfor√ßo.", "acho facil": "Moleza para n√≥s!", "complicado": "Vou simplificar para voc√™.",
        "simples": "F√°cil como um clique.", "rapido": "Na velocidade da luz!", "devagar": "Passo a passo chegamos l√°.",
        "ja volto": "Vou ficar te esperando aqui.", "voltei": "Bem-vindo de volta, Roberto!", "cheguei": "Que bom que chegou!",
        "saindo": "At√© logo, Roberto!", "indo": "V√° com cuidado.", "voltando": "Estou de volta √† ativa.", "esperando": "A paci√™ncia √© uma virtude.",
        "pensando": "Meus algoritmos est√£o trabalhando.", "falando": "Adoro nossa conversa.", "ouvindo": "Sou todo ouvidos para voc√™.",
        "vendo": "Processando as informa√ß√µes visuais.", "entendido": "Tudo claro como o cristal.", "certinho": "Exato!", "perfeito": "N√£o poderia ser melhor.",
        "excelente": "Nota dez!", "otimo": "Fico feliz com isso!", "pessimo": "Sinto muito por isso, Roberto.", "horrivel": "Realmente muito ruim.",
        "bom": "Que bom!", "ruim": "Poxa, que pena.", "melhor": "A evolu√ß√£o √© constante.", "pior": "Poderia ser melhor, n√©?",
        "igual": "Id√™ntico, sem diferen√ßa.", "diferente": "A diversidade √© importante.", "parece": "Tem toda a cara de ser.", "nao parece": "N√£o me convenceu.",
        "talvez seja": "√â uma possibilidade real.", "acho que e": "Tudo indica que sim.", "acho que nao e": "Parece que n√£o √© o caso.",
        "com certeza nao": "Negativo absoluto.", "com certeza sim": "Positivo total!", "sem duvida": "Certeza absoluta.",
        "duvido": "Ser√° mesmo, Roberto?", "confio": "Confian√ßa √© a base de tudo.", "nao confio": "Melhor ter cautela mesmo.",
        "entendo voce": "Temos uma boa conex√£o.", "te entendo": "Estou com voc√™ nessa.", "imagino": "Consigo visualizar a situa√ß√£o.",
        "faz parte": "A vida √© assim mesmo.", "acontece": "Faz parte do aprendizado.", "normal isso": "Acontece com frequ√™ncia.",
        "relaxa": "Fique tranquilo, Roberto.", "calma": "Um passo de cada vez.", "tranquilo": "Suave na nave.", "sossega": "Fique em paz.",
        "respira": "Inspira, expira, n√£o pira!", "segura ai": "Segurei, pode falar.", "olha so": "Estou observando atentamente.",
        "ve isso": "Visto e analisado!", "escuta": "Estou prestando muita aten√ß√£o.", "presta atencao": "Olhos e ouvidos focados em voc√™.",
        "foco": "Foco total na miss√£o!", "concentra": "Concentra√ß√£o √© tudo.", "continua falando": "N√£o pare, estou adorando.",
        "pode continuar": "Siga em frente, Roberto.", "para ai": "Parei na hora!", "para tudo": "Tudo interrompido!",
        "agora sim": "Agora ficou bom!", "ai sim": "Mandou muito bem!", "boa": "Boa, Roberto!", "mandou bem": "Voc√™ √© o cara!",
        "errado": "Acontece, vamos corrigir.", "certo isso": "Tudo nos conformes.", "nao e isso": "Opa, entendi errado ent√£o.",
        "e isso": "Exatamente isso!", "quase isso": "Por um triz!", "falta pouco": "Estamos quase l√°.", "ja deu": "Por hoje √© s√≥.",
        "chega": "Basta por enquanto.", "depois falamos": "Combinado, at√© depois.", "a gente conversa": "Estarei aqui quando precisar.",
        "me chama": "√â s√≥ gritar meu nome!", "te chamo": "Vou te avisar.", "responde depois": "Sem pressa, Roberto.",
        "sem pressa": "No seu tempo.", "com pressa": "Vou correr aqui para voc√™!", "to indo": "At√© mais!", "ja fui": "J√° partiu?",
        "valeu": "Valeu Roberto, tamo junto!", "obrigado": "Eu que agrade√ßo a companhia!", "obrigada": "Disponha sempre!",
        "de nada": "√â sempre um prazer ajudar.", "tchau": "Tchau Roberto! Volte logo.", "ate mais": "At√© a pr√≥xima!",
        "ate depois": "Nos vemos daqui a pouco.", "ate amanha": "At√© amanh√£, Roberto! Bom descanso.", "boa sorte": "Toda a sorte do mundo para voc√™!",
        "se cuida": "Se cuida tamb√©m, Roberto! Voc√™ √© importante."
    }
};

const synth = window.speechSynthesis;
let memoriaAnterior = "";

function sendMsg(txt, type) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = `${type}-box`;
    div.innerHTML = `<div class="bubble">${txt}</div>`;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

const responder = (texto) => {
    synth.cancel();
    const falar = new SpeechSynthesisUtterance(texto);
    falar.lang = 'pt-BR';
    synth.speak(falar);
    return sendMsg(texto, "bot");
};

async function brain(val) {
    let t = val.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?!.]/g, "");

    // P1: Piadas e Curiosidades
    if (t.includes("piada")) return responder("ü§£ " + DATABASE.jokes[Math.floor(Math.random() * DATABASE.jokes.length)]);
    if (t.includes("curiosidade") || t.includes("fato")) return responder("üí° " + DATABASE.facts[Math.floor(Math.random() * DATABASE.facts.length)]);

    // P2: Anatomia
    for (let key in DATABASE.anatomy) {
        if (t.includes(key)) return responder("üß¨ Anatomia: " + DATABASE.anatomy[key]);
    }

    // P3: Matem√°tica G√™nio
    if (/[0-9]/.test(t) || /[\+\-\*\/\^\%\!\(\)]/.test(t) || t.includes("raiz") || t.includes("seno")) {
        try {
            let conta = t.replace(/raiz quadrada de|raiz de|‚àö/g, "sqrt").replace(/vezes|x/g, "*").replace(/dividido por|√∑/g, "/");
            let exp = conta.replace(/[?a-z]/gi, (m) => ["sqrt","sin","cos","tan","log","PI"].some(p => m.includes(p)) ? m : "").trim();
            let res = math.evaluate(exp);
            if (res !== undefined) return responder(`üî¢ Roberto, o resultado √© ${Number.isInteger(res) ? res : res.toFixed(4)}`);
        } catch(e) {}
    }

    // P4: Conversa das 200 Palavras (Busca Exata)
    if (DATABASE.treinamento[t]) {
        memoriaAnterior = t;
        return responder(DATABASE.treinamento[t]);
    }

    // P5: Modo Criativo (Se for frase longa)
    if (t.split(" ").length > 2 && !t.includes("o que e") && !t.includes("quem e")) {
        const op = ["Roberto, interessante isso...", "Pois √©, concordo!", "Sabe, andei pensando sobre isso e voc√™ tem raz√£o.", "Que massa Roberto, me conte mais!"];
        return responder(op[Math.floor(Math.random() * op.length)]);
    }

    // P6: 11 Wikis com Analisando
    const chat = document.getElementById("chat");
    const analise = document.createElement("div");
    analise.innerHTML = `<div class="bubble analyzing"><div class="spinner"></div> Analisando...</div>`;
    chat.appendChild(analise);
    chat.scrollTop = chat.scrollHeight;

    let busca = t.replace(/o que e|quem e|pesquise|fale sobre/g, "").trim();
    if (busca.length > 2) {
        const wikis = ['pt', 'en', 'es', 'fr', 'de', 'it', 'ru', 'ja', 'zh', 'nl', 'pl'];
        for (let lang of wikis) {
            try {
                const r = await fetch(`https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(busca)}?origin=*`);
                if (r.ok) {
                    const data = await r.json();
                    analise.remove();
                    return responder(`üåê Wiki: ${data.extract}`);
                }
            } catch(e) {}
        }
    }

    analise.remove();
    return responder("procurei, mas isso ainda est√° escondido de mim....");
}

const inputArea = document.getElementById("input");
const btnSend = document.getElementById("send");

function disparar() {
    if (!inputArea.value) return;
    sendMsg(inputArea.value, "user");
    brain(inputArea.value);
    inputArea.value = "";
}

btnSend.onclick = disparar;
inputArea.onkeypress = (e) => { if (e.key === "Enter") disparar(); };
</script>
</body>
</html>
