<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InforBot Super G√™nio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        /* INTERFACE CL√ÅSSICA ORIGINAL QUE VOC√ä GOSTA */
        :root {
            --bg: #010409; 
            --app-bg: #0d1117; 
            --text: #c9d1d9;
            --bubble-bot: #161b22; 
            --border: #30363d; 
            --header: linear-gradient(135deg, #1e40af, #000);
        }

        /* MODO CLARO SOLICITADO */
        .light-mode {
            --bg: #f0f2f5; 
            --app-bg: #ffffff; 
            --text: #1c1e21;
            --bubble-bot: #e4e6eb; 
            --border: #d0d7de; 
            --header: linear-gradient(135deg, #0052d4, #6fb1fc);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, sans-serif; transition: 0.3s ease; }
        
        body { height: 100vh; background: var(--bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        
        .app { 
            width: 95%; max-width: 550px; height: 88vh; 
            background: var(--app-bg); border-radius: 25px; 
            display: flex; flex-direction: column; overflow: hidden; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.6); border: 1px solid var(--border);
        }

        .header { 
            background: var(--header); padding: 18px; text-align: center; color: white; 
            border-bottom: 3px solid #1f6feb; position: relative;
        }

        .header h1 { font-size: 20px; letter-spacing: 1px; }

        .theme-toggle {
            position: absolute; right: 15px; top: 18px; background: rgba(255,255,255,0.2);
            border: none; color: white; padding: 6px 12px; border-radius: 15px; cursor: pointer; font-size: 11px;
        }

        .chat { flex: 1; padding: 15px; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column; gap: 12px; }

        /* ANIMA√á√ÉO DE POP */
        @keyframes popMsg {
            0% { opacity: 0; transform: scale(0.8) translateY(20px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        .message { max-width: 85%; animation: popMsg 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        
        .bubble { 
            padding: 14px 18px; border-radius: 20px; font-size: 15px; line-height: 1.5; 
            cursor: pointer; position: relative;
        }

        /* ANIMA√á√ÉO DAS LETRAS: AUMENTA NO MOUSE (PEDIDO PELO ISAQUE) */
        .bubble:hover {
            transform: scale(1.06);
            font-size: 19px !important;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            z-index: 99;
        }
        
        .user { align-self: flex-end; }
        .bot { align-self: flex-start; }
        
        .user .bubble { background: #1f6feb; color: white; border-bottom-right-radius: 4px; }
        .bot .bubble { background: var(--bubble-bot); color: var(--text); border: 1px solid var(--border); border-bottom-left-radius: 4px; }

        .input-area { padding: 15px; background: var(--app-bg); border-top: 1px solid var(--border); display: flex; gap: 10px; }
        
        input { 
            flex: 1; padding: 14px 20px; border-radius: 25px; border: 1px solid var(--border); 
            outline: none; background: var(--bg); color: var(--text); font-size: 15px;
        }

        #send { 
            width: 50px; height: 50px; border-radius: 50%; border: none; 
            background: #1f6feb; color: white; cursor: pointer; font-size: 20px;
            display: flex; align-items: center; justify-content: center;
        }

        #send:hover { transform: scale(1.1) rotate(10deg); background: #3b82f6; }
    </style>
</head>
<body>

<div class="app">
    <div class="header">
        <h1>ü§ñ InforBot</h1>
        <button class="theme-toggle" onclick="document.body.classList.toggle('light-mode')">üåì TEMA</button>
    </div>
    <div id="chat" class="chat">
        <div class="message bot"><div class="bubble">Ol√°, eu sou InforBot, estou aqui para o que voc√™ precisar.</div></div>
    </div>
    <div class="input-area">
        <input type="text" id="input" placeholder="Pergunte sobre anatomia, matem√°tica ou curiosidades...">
        <button id="send">‚û§</button>
    </div>
</div>

<script>
// BANCO DE DATA GIGANTE - SEM RESUMOS
const DATABASE = {
    jokes: [
        "Por que o programador faliu? Ficou sem cache!", "O que o zero disse pro oito? Belo cinto!", "Qual o caf√© favorito do Java? O expresso!",
        "Por que o livro de matem√°tica se suicidou? Tinha muitos problemas.", "Como o programador dorme? if(sono){ dormir(); }", "Qual o contr√°rio de vol√°til? Vem c√°, tio!",
        "Por que o teclado n√£o sai de casa? Porque n√£o tem Esc!", "O que o objeto disse para a classe? Eu tenho heran√ßa!", "O que o Chrome disse para o PC? Vou comer sua mem√≥ria RAM!",
        "Por que os peixes n√£o usam computador? Por medo da rede!", "O que o programador disse ao ver o mar? Olha quanta C-Shell!", "Como se chama um programador que n√£o dorme? O 'Undefined'.",
        "Por que o Wi-Fi foi preso? Porque ele estava com sinal aberto!", "O que o Bit disse para o Byte? Voc√™ √© 8 vezes maior!", "Onde o programador mora? No endere√ßo de IP dele.",
        "Por que o HTML se separou do CSS? Porque eles n√£o tinham classe!", "O que o mouse disse para o teclado? Voc√™ faz o meu tipo!", "Qual a m√∫sica favorita do desenvolvedor? O Algoritmo da terra.",
        "Por que o computador foi ao m√©dico? Porque estava com v√≠rus!", "Software de dieta? Tem muitos bytes!", "Zero pro Hum? Voc√™ √© sozinho!",
        "Pai do C++? O C!", "Programador no restaurante? Pediu o menu principal!", "Bug na floresta? Uma tarantula!",
        "Por que o Excel √© calmo? Tem muitas c√©lulas!", "Site de fofoca? O HTTPfofoca!", "Programador no frio? Fica no Java!",
        "Por que o c√≥digo foi preso? Erro de execu√ß√£o!", "Programador rico? Achou uma mina de bits!", "Teclado sem espa√ßo? N√£o tem onde ir!",
        "Programador de √≥culos? N√£o v√™ C#!", "Monitor triste? Est√° em baixa resolu√ß√£o!", "Programador no deserto? Procura o sandbox!",
        "Por que o HD √© medroso? Tem medo de cair!", "O que o programador faz no elevador? Aperta o 'F5' para atualizar."
    ],
    facts: [
        "O mel nunca estraga. Arque√≥logos acharam mel de 3000 anos comest√≠vel.", "As formigas nunca dormem e n√£o possuem pulm√µes.", "V√™nus √© o √∫nico planeta que gira no sentido hor√°rio.",
        "O DNA humano √© 50% igual ao de uma banana.", "O primeiro computador pesava 30 toneladas.", "Polvos t√™m 3 cora√ß√µes, 9 c√©rebros e o sangue √© azul.",
        "A luz do Sol leva 8 minutos e 20 segundos para chegar aqui.", "Cachorros conseguem entender at√© 250 palavras.", "Se voc√™ dobrar um papel 42 vezes, ele chega at√© a Lua.",
        "O Monte Everest cresce cerca de 4mm a cada ano.", "Existem mais estrelas no c√©u do que gr√£os de areia na Terra.", "Um raio √© 5 vezes mais quente que a superf√≠cie do Sol.",
        "Borboletas sentem o gosto com os p√©s.", "Cavalos-marinhos s√£o os √∫nicos peixes com pesco√ßo.", "As vacas t√™m melhores amigas e ficam estressadas se separadas.",
        "O cora√ß√£o da baleia azul √© do tamanho de um fusca.", "O recorde de tempo sem dormir √© de 11 dias.", "Tubar√µes existem h√° mais tempo que as √°rvores.",
        "O olho humano consegue distinguir 10 milh√µes de cores.", "No Jap√£o, existem melancias quadradas.", "O Sol √© uma estrela.",
        "Ovelhas se reconhecem em fotos.", "Gatos t√™m 32 m√∫sculos na orelha.", "Pinguins pedem em casamento com pedras.",
        "O inventor do Pringles foi enterrado numa lata.", "Le√µes dormem 20 horas por dia.", "Hipop√≥tamos suam sangue rosa.",
        "Coalhas dormem 22 horas.", "Nariz do cachorro √© √∫nico como digital.", "Baratas vivem dias sem cabe√ßa.",
        "A Terra pesa 6 sextilh√µes de toneladas.", "Saturno flutuaria na √°gua.", "Flamingos s√£o rosas pela comida.",
        "V√™nus √© mais quente que Merc√∫rio.", "Plut√£o √© menor que os EUA."
    ],
    anatomy: {
        "ossos": "O corpo humano adulto possui 206 ossos.",
        "f√™mur": "O f√™mur √© o osso mais longo, forte e pesado do corpo.",
        "estribo": "O estribo √© o menor osso do corpo, localizado no ouvido.",
        "cora√ß√£o": "O cora√ß√£o bate 100 mil vezes por dia e bombeia 5 litros de sangue por minuto.",
        "c√©rebro": "O c√©rebro consome 20% de toda a energia e oxig√™nio do corpo.",
        "pele": "A pele pesa cerca de 4kg e √© o maior √≥rg√£o do ser humano.",
        "dna": "Se desenrolado, o DNA de uma √∫nica c√©lula mediria 2 metros.",
        "pulm√£o": "O pulm√£o direito √© ligeiramente maior que o esquerdo.",
        "sangue": "Um adulto tem entre 4,5 e 6 litros de sangue circulando.",
        "m√∫sculos": "O corpo humano tem mais de 600 m√∫sculos.",
        "f√≠gado": "O f√≠gado √© o √∫nico √≥rg√£o capaz de se regenerar completamente.",
        "olhos": "Os olhos focam em cerca de 50 objetos por segundo."
    }
};

async function brain(val) {
    let t = val.toLowerCase().trim();

    // 1. MATEM√ÅTICA DE G√äNIO
    if (/[0-9]/.test(t)) {
        try {
            let formula = t.replace(/raiz quadrada de/g, "sqrt").replace(/raiz de/g, "sqrt").replace(/vezes/g, "*").replace(/dividido por/g, "/").replace(/[a-z√°√†√¢√£√©√®√™√≠√Ø√≥√¥√µ√∂√∫√ß?]/g, "");
            let res = math.evaluate(formula);
            if (res !== undefined) return sendMsg(`üî¢ C√°lculo de G√™nio: **${res}**`, "bot");
        } catch(e) {}
    }

    // 2. ANATOMIA HUMANA
    for (let key in DATABASE.anatomy) {
        if (t.includes(key)) return sendMsg(`üß¨ **Anatomia:** ${DATABASE.anatomy[key]}`, "bot");
    }

    // 3. PIADAS E CURIOSIDADES (70 ITENS)
    if (t.includes("piada")) return sendMsg("ü§£ " + DATABASE.jokes[Math.floor(Math.random()*DATABASE.jokes.length)], "bot");
    if (t.includes("curiosidade") || t.includes("fato") || t.includes("sabia que")) return sendMsg("üí° Sabia que: " + DATABASE.facts[Math.floor(Math.random()*DATABASE.facts.length)], "bot");

    // 4. CONVERSA E WIKIP√âDIA
    if (t.includes("oi") || t.includes("ola")) return sendMsg("Ol√°! Eu sou o InforBot G√™nio. Como posso te ajudar hoje?", "bot");
    
    let search = t.replace(/quem e|o que e|fale sobre|pesquise|\?/g, "").trim();
    if (search.length > 2) {
        try {
            const resp = await fetch(`https://pt.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(search)}?origin=*`);
            if (resp.ok) {
                const data = await resp.json();
                return sendMsg(`üåê Pesquisa: ${data.extract}`, "bot");
            }
        } catch(e) {}
    }

    sendMsg("n√£o conseguir achar uma resposta para isso tente falar s√≥ o nome se estiver pesquisando algo.", "bot");
}

function sendMsg(txt, type) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = `message ${type}`;
    div.innerHTML = `<div class="bubble">${txt}</div>`;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

document.getElementById("send").onclick = () => {
    const input = document.getElementById("input");
    if (!input.value) return;
    sendMsg(input.value, "user");
    brain(input.value);
    input.value = "";
};

// --- VERS√ÉO FINAL INFORBOT - COPIE DAQUI AT√â O FIM ---

// 1. FUN√á√ÉO DO TECLADO (ENTER)
document.getElementById("input").onkeypress = (e) => {
    if (e.key === "Enter") {
        const campo = document.getElementById("input");
        if (!campo.value) return;
        sendMsg(campo.value, "user");
        brain(campo.value); 
        campo.value = "";
    }
};

// 2. C√âREBRO DO ROB√î (MATEM√ÅTICA + 11 WIKIP√âDIAS)
const synth = window.speechSynthesis;

async function brain(val) {
    let t = val.toLowerCase().trim();

    // Sinal visual de que est√° pensando
    sendMsg("‚è≥ Analisando...", "bot-temp");
    const removeTemp = () => { document.querySelectorAll(".bot-temp").forEach(e => e.remove()); };

    // --- BLOCO MATEM√ÅTICO ---
    const sinais = ["raiz", "‚àö", "x", "√∑", ":", "vezes", "dividido"];
    if (/[0-9]/.test(t) || sinais.some(s => t.includes(s))) {
        try {
            let conta = t.replace(/raiz quadrada de|raiz de|‚àö/g, "sqrt")
                         .replace(/vezes| x | x/g, " * ")
                         .replace(/dividido por|:|√∑/g, "/")
                         .replace(/,/g, ".")
                         .replace(/[?a-z√°√†√¢√£√©√®√™√≠√Ø√≥√¥√µ√∂√∫√ß]/g, ""); // Limpa letras

            if (conta.trim() !== "" && /[0-9]/.test(conta)) {
                let res = math.evaluate(conta);
                removeTemp();
                return sendMsg(`üî¢ **Resultado:** ${res}`, "bot");
            }
        } catch(e) { console.log("N√£o √© conta."); }
    }

    // --- BLOCO DE PESQUISA (11 WIKIP√âDIAS) ---
    let busca = t.replace(/o que √©|quem √©|fale sobre|pesquise|me diga/g, "").replace(/\?/g, "").trim();
    if (busca.length > 2) {
        const wikis = ['pt', 'en', 'ceb', 'de', 'fr', 'sv', 'nl', 'ru', 'es', 'it', 'arz'];
        
        for (let lang of wikis) {
            try {
                const url = `https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(busca)}?origin=*`;
                const resp = await fetch(url);
                if (resp.ok) {
                    const data = await resp.json();
                    if (data.extract) {
                        removeTemp();

                        // --- VOZ SEMPRE EM PORTUGU√äS ---
                        const falar = new SpeechSynthesisUtterance(data.extract);
                        falar.lang = 'pt-BR'; // Sotaque Brasileiro
                        falar.rate = 1.1;     // Velocidade normal
                        synth.cancel();       // Para qualquer voz anterior antes de falar
                        synth.speak(falar);

                        return sendMsg(`üåê **Wikip√©dia:** ${data.extract}`, "bot");
                    }
                }
            } catch(e) { continue; }
        }
    }

    removeTemp();
    sendMsg("ü§î Desculpe, n√£o consegui entender ou calcular isso. Tente '10 x 5' ou 'O que √© o Sol?'", "bot");
}

</script>
</body>
</html>
