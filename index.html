<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inforbot</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        :root {
            --bg: #010409; 
            --app-bg: #0d1117; 
            --text: #c9d1d9;
            --bubble-bot: #161b22; 
            --border: #30363d; 
            --header: linear-gradient(135deg, #1e40af, #000);
            --accent: #1f6feb;
        }

        .light-mode {
            --bg: #f0f2f5; 
            --app-bg: #ffffff; 
            --text: #1c1e21;
            --bubble-bot: #e4e6eb; 
            --border: #d0d7de; 
            --header: linear-gradient(135deg, #0052d4, #6fb1fc);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; transition: background 0.3s, color 0.3s; }
        
        body { height: 100vh; background: var(--bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        
        .app { 
            width: 95%; max-width: 600px; height: 94vh; 
            background: var(--app-bg); border-radius: 25px; 
            display: flex; flex-direction: column; overflow: hidden; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid var(--border);
        }

        .header { 
            background: var(--header); padding: 15px; text-align: center; color: white; 
            border-bottom: 3px solid var(--accent);
        }

        .header h1 { font-size: 28px; margin-bottom: 5px; letter-spacing: 1px; }

        /* BOT√ïES DE TEMA ABAIXO DO T√çTULO */
        .theme-controls { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
        
        .theme-btn {
            background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4); color: white; 
            padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 13px; font-weight: 800;
            animation: pulseMove 2.5s infinite ease-in-out; /* Ficar se mexendo */
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
        }

        @keyframes pulseMove {
            0% { transform: translateY(0); box-shadow: 0 0 2px #fff; }
            50% { transform: translateY(-4px); box-shadow: 0 0 15px var(--accent); }
            100% { transform: translateY(0); box-shadow: 0 0 2px #fff; }
        }

        /* ZOOM EXCLUSIVO NO HOVER DOS BOT√ïES */
        .theme-btn:hover {
            transform: scale(1.4) !important;
            background: var(--accent);
            z-index: 10;
        }

        .chat { flex: 1; padding: 20px; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth; }
        .message { max-width: 85%; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .bubble { padding: 15px 20px; border-radius: 22px; font-size: 15px; line-height: 1.5; }
        .user { align-self: flex-end; }
        .bot { align-self: flex-start; }
        .user .bubble { background: var(--accent); color: white; border-bottom-right-radius: 4px; }
        .bot .bubble { background: var(--bubble-bot); color: var(--text); border: 1px solid var(--border); border-bottom-left-radius: 4px; }

        /* ANALISANDO */
        .analyzing { font-style: italic; color: var(--accent); font-size: 14px; display: flex; align-items: center; gap: 10px; padding: 5px; }
        .spinner { width: 16px; height: 16px; border: 3px solid var(--accent); border-top: 3px solid transparent; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .input-area { padding: 20px; background: var(--app-bg); border-top: 1px solid var(--border); display: flex; gap: 12px; }
        input { flex: 1; padding: 15px 25px; border-radius: 30px; border: 1px solid var(--border); outline: none; background: var(--bg); color: var(--text); font-size: 16px; }
        #send { width: 55px; height: 55px; border-radius: 50%; border: none; background: var(--accent); color: white; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="dark-mode">

<div class="app">
    <div class="header">
        <h1>ü§ñInforbot</h1>
        <div class="theme-controls">
            <button class="theme-btn" onclick="document.body.classList.add('light-mode')">Modo Claro</button>
            <button class="theme-btn" onclick="document.body.classList.remove('light-mode')">Modo Escuro</button>
        </div>
    </div>
    <div id="chat" class="chat">
        <div class="message bot"><div class="bubble">Ol√°. Sou o Inforbot. O que precisa?</div></div>
    </div>
    <div class="input-area">
        <input type="text" id="input" placeholder="pe√ßa uma piada, curiosidade, ou qualquer outra pergunta">
        <button id="send">‚û§</button>
    </div>
</div>

<script>
// MEM√ìRIA E ESTADO
let ultimaMensagemUsuario = "";

const DATABASE = {
    jokes: [
        "Por que o programador faliu? Ficou sem cache!", "O que o zero disse pro oito? Belo cinto!", "Qual o caf√© favorito do Java? O expresso!",
        "Por que o livro de matem√°tica se suicidou? Tinha muitos problemas.", "Como o programador dorme? if(sono){ dormir(); }", "Qual o contr√°rio de vol√°til? Vem c√°, tio!",
        "Por que o teclado n√£o sai de casa? Porque n√£o tem Esc!", "O que o objeto disse para a classe? Eu tenho heran√ßa!", "O que o Chrome disse para o PC? Vou comer sua mem√≥ria RAM!",
        "Por que os peixes n√£o usam computador? Por medo da rede!", "O que o programador disse ao ver o mar? Olha quanta C-Shell!", "Como se chama um programador que n√£o dorme? O 'Undefined'.",
        "Por que o Wi-Fi foi preso? Porque ele estava com sinal aberto!", "O que o Bit disse para o Byte? Voc√™ √© 8 vezes maior!", "Onde o programador mora? No endere√ßo de IP dele.",
        "Por que o HTML se separou do CSS? Porque eles n√£o tinham classe!", "O que o mouse disse para o teclado? Voc√™ faz o meu tipo!", "Qual a m√∫sica favorita do desenvolvedor? O Algoritmo da terra.",
        "Por que o computador foi ao m√©dico? Porque estava com v√≠rus!", "Software de dieta? Tem muitos bytes!", "Zero pro Hum? Voc√™ √© sozinho!",
        "Pai do C++? O C!", "Programador no restaurante? Pediu o menu principal!", "Bug na floresta? Uma tarantula!",
        "Por que o Excel √© calmo? Tem muitas c√©lulas!", "Site de fofoca? O HTTPfofoca!", "Programador no frio? Fica no Java!",
        "Por que o c√≥digo foi preso? Erro de execu√ß√£o!", "Programador rico? Achou uma mina de bits!", "Teclado sem espa√ßo? N√£o tem onde ir!",
        "Programador de √≥culos? N√£o v√™ C#!", "Monitor triste? Est√° em baixa resolu√ß√£o!", "Programador no deserto? Procura o sandbox!",
        "Por que o HD √© medroso? Tem medo de cair!", "O que o programador faz no elevador? Aperta o 'F5' para atualizar."
    ],
    facts: [
        "O mel nunca estraga.", "As formigas nunca dormem.", "V√™nus gira no sentido hor√°rio.", "O DNA humano √© 50% igual ao de uma banana.",
        "O primeiro computador pesava 30 toneladas.", "Polvos t√™m 3 cora√ß√µes e 9 c√©rebros.", "Luz do Sol leva 8 min e 20 seg para chegar.",
        "Cachorros entendem 250 palavras.", "Dobrar papel 42 vezes chega √† Lua.", "Everest cresce 4mm por ano.", "Mais estrelas que areia na Terra.",
        "Raio √© 5x mais quente que o Sol.", "Borboletas sentem gosto com p√©s.", "Cavalos-marinhos t√™m pesco√ßo.", "Vacas t√™m melhores amigas.",
        "Baleia azul tem cora√ß√£o de Fusca.", "Recorde sem dormir: 11 dias.", "Tubar√µes s√£o mais velhos que √°rvores.", "Olho distingue 10 milh√µes de cores.",
        "Melancias quadradas no Jap√£o.", "O Sol √© uma estrela.", "Ovelhas se reconhecem em fotos.", "Gatos t√™m 32 m√∫sculos na orelha.",
        "Pinguins pedem em casamento com pedras.", "Inventor do Pringles enterrado na lata.", "Le√µes dormem 20h.", "Hipop√≥tamos suam sangue rosa.",
        "Coalhas dormem 22h.", "Digital no nariz de c√£es.", "Baratas vivem sem cabe√ßa.", "Terra pesa 6 sextilh√µes de toneladas.",
        "Saturno flutua na √°gua.", "Flamingos s√£o rosas pela comida.", "V√™nus √© mais quente que Merc√∫rio.", "Plut√£o √© menor que os EUA."
    ],
    anatomy: {
        "ossos": "O corpo humano adulto possui 206 ossos.", "f√™mur": "O f√™mur √© o osso mais longo e forte do corpo.",
        "estribo": "O estribo √© o menor osso, localizado no ouvido m√©dio.", "cora√ß√£o": "O cora√ß√£o bate cerca de 100 mil vezes por dia.",
        "c√©rebro": "O c√©rebro consome cerca de 20% de toda a energia do corpo.", "pele": "A pele √© o maior √≥rg√£o humano e pesa cerca de 4kg.",
        "dna": "Se esticado, o DNA de uma √∫nica c√©lula mediria 2 metros.", "pulm√£o": "O pulm√£o direito √© ligeiramente maior que o esquerdo.",
        "sangue": "Um adulto m√©dio tem entre 4,5 e 6 litros de sangue.", "m√∫sculos": "O corpo humano tem mais de 600 m√∫sculos.",
        "f√≠gado": "O f√≠gado √© o √∫nico √≥rg√£o capaz de se regenerar totalmente.", "olhos": "Os olhos focam em cerca de 50 objetos por segundo."
    },
    conversa: {
       conversa: {
        "oi": "Oi Roberto! Que bom te ver.", "ol√°": "Ol√°! Como voc√™ est√° hoje?", "bom dia": "Bom dia, Roberto! Vamos codar?", 
        "boa tarde": "Boa tarde! Como vai o dia?", "boa noite": "Boa noite, descanse bem.", "e a√≠": "E a√≠! Tudo na paz?",
        "opa": "Opa, Roberto! Tudo certo?", "fala": "Fala, mestre! Estou ouvindo.", "tudo bem": "Tudo √≥timo por aqui, Roberto. E com voc√™?",
        "tudo bom": "Tudo na tranquilidade! E por a√≠?", "como vai": "Vou muito bem, operando em 100%!",
        "como est√°": "Estou pronto para ajudar voc√™!", "beleza": "Beleza pura!", "tranquilo": "Sempre tranquilo por aqui.",
        "de boa": "Totalmente de boa.", "certo": "Cert√≠ssimo!", "ok": "Ok, anotado!", "sim": "Com certeza!",
        "n√£o": "Entendido, ent√£o √© n√£o.", "talvez": "Existe essa possibilidade, n√©?", "claro": "Claro que sim!",
        "com certeza": "Sem d√∫vida nenhuma!", "acho que sim": "Eu tamb√©m acho, Roberto.", "acho que n√£o": "√â, pode ser que n√£o seja.",
        "entendi": "Que bom que ficou claro!", "entendo": "Compreendo perfeitamente.", "verdade": "Pura verdade!",
        "s√©rio": "Ser√≠ssimo, n√£o brinco com dados.", "nossa": "Uau, impressionante!", "uau": "Incr√≠vel, n√©?",
        "legal": "Muito legal!", "massa": "Massa demais, Roberto!", "top": "Top de linha!", "show": "Show de bola!",
        "bacana": "Bem bacana!", "interessante": "Isso √© muito interessante mesmo.", "estranho": "Bem bizarro isso...",
        "engra√ßado": "Haha, achei divertido!", "normal": "Tudo dentro do normal.", "diferente": "Realmente, foge do comum.",
        "por qu√™": "As causas podem ser v√°rias, quer que eu pesquise?", "como assim": "Deixe-me tentar explicar melhor.",
        "quando": "Isso depende do tempo, Roberto.", "onde": "Em qual lugar especificamente?", "quem": "De quem estamos falando?",
        "o qu√™": "Pode me dar mais detalhes?", "qual": "Qual deles voc√™ prefere?", "quanto": "Depende da quantidade necess√°ria.",
        "me conta": "Vou te contar tudo o que eu sei!", "explica": "Explicando agora mesmo...", "continua": "Estou continuando, preste aten√ß√£o.",
        "fala mais": "Posso falar sobre isso o dia todo!", "calma": "Estou calmo, processando tudo.", "espera": "Esperando seu comando.",
        "pera a√≠": "Um momento, Roberto.", "um momento": "Estou aguardando.", "agora": "J√°! Imediatamente.",
        "depois": "Tudo bem, deixamos para depois.", "hoje": "Hoje √© o dia!", "ontem": "O que passou, passou.",
        "amanh√£": "O futuro nos espera.", "sempre": "Para todo o sempre!", "nunca": "Jamais!",
        "√†s vezes": "De vez em quando acontece.", "talvez depois": "Combinado, falamos depois.", "pode ser": "Fechado ent√£o.",
        "fechado": "Combinad√≠ssimo!", "combinado": "Tudo certo entre n√≥s.", "beleza ent√£o": "Beleza, Roberto!",
        "t√° bom": "Entendido, t√° bom.", "t√° certo": "Tudo certo por aqui.", "concordo": "Estamos na mesma p√°gina!",
        "discordo": "Respeito sua opini√£o, mas penso diferente.", "acho legal": "Eu tamb√©m curti!", "n√£o sei": "Eu ainda n√£o tenho essa info.",
        "sei sim": "Que bom que voc√™ sabe!", "mais ou menos": "Entendo, nem tanto, nem t√£o pouco.", "melhor assim": "Com certeza, melhorou muito.",
        "tudo certo": "Tudo sob controle.", "tudo tranquilo": "Paz total.", "sem problema": "Sem estresse!",
        "problema nenhum": "Tudo resolvido.", "relaxa": "Estou relaxado!", "fica tranquilo": "Pode confiar, Roberto.",
        "calma a√≠": "Segurando as engrenagens aqui.", "entendi agora": "Agora tudo faz sentido!", "faz sentido": "Totalmente l√≥gico.",
        "n√£o faz sentido": "√â, t√° meio confuso mesmo.", "boa ideia": "Excelente pensamento!", "m√° ideia": "Melhor repensar isso.",
        "pode ajudar": "Vou fazer o meu melhor para ajudar.", "me ajuda": "Estou aqui para voc√™, Roberto!",
        "preciso disso": "Vamos conseguir isso agora!", "quero isso": "Desejo concedido!", "gosto disso": "Eu tamb√©m adoro!",
        "n√£o gosto": "Tudo bem, vamos mudar o assunto.", "prefiro assim": "Sua prefer√™ncia √© o que importa.",
        "tanto faz": "Voc√™ quem manda.", "depende": "Tudo √© relativo.", "vamos ver": "O tempo dir√°.",
        "quem sabe": "Quem sabe no futuro?", "tomara": "Estou na torcida!", "deus queira": "Que assim seja.",
        "espero que sim": "Eu tamb√©m espero, Roberto.", "acho dif√≠cil": "√â um desafio, mas n√£o imposs√≠vel.",
        "acho f√°cil": "Moleza para o Inforbot!", "complicado": "Realmente, exige muito processamento.",
        "simples": "F√°cil como um clique!", "r√°pido": "Vrum! J√° foi.", "devagar": "Com calma a gente chega l√°.",
        "j√° volto": "Vou ficar te esperando, Roberto.", "voltei": "Bem-vindo de volta, mestre!",
        "cheguei": "Que bom! Estava sentindo sua falta.", "saindo": "At√© logo ent√£o!", "indo": "V√° com cuidado.",
        "voltando": "Que bom que voltou.", "esperando": "A paci√™ncia √© uma virtude digital.",
        "pensando": "Meus circuitos est√£o a mil!", "falando": "Estou sempre pronto para conversar.",
        "ouvindo": "Sou todo ouvidos (ou melhor, sensores).", "vendo": "Estou observando tudo.",
        "entendido": "Anotado no meu banco de dados.", "certinho": "Tudo nos conformes.", "perfeito": "Maravilha!",
        "excelente": "Nota dez!", "√≥timo": "Fico feliz com isso!", "p√©ssimo": "Que not√≠cia triste.",
        "horr√≠vel": "Nossa, isso √© muito ruim.", "bom": "Muito bom!", "ruim": "Poderia ser melhor.",
        "melhor": "Sempre evoluindo!", "pior": "Infelizmente piorou.", "igual": "Tudo na mesma.",
        "parece": "Tem toda a cara de ser.", "n√£o parece": "Estou achando que n√£o.", "talvez seja": "Pode ser que sim.",
        "acho que √©": "Tenho quase certeza.", "acho que n√£o √©": "Duvido muito.", "sem d√∫vida": "Absoluta certeza!",
        "duvido": "Ser√° mesmo? Fiquei na d√∫vida.", "confio": "Sua confian√ßa √© importante.",
        "n√£o confio": "Melhor ter cautela ent√£o.", "te entendo": "Eu te compreendo, Roberto.", "imagino": "Posso at√© imaginar.",
        "faz parte": "√â a vida, n√©?", "acontece": "Nas melhores fam√≠lias digitais.", "normal isso": "Acontece sempre.",
        "sossega": "Estou sossegado!", "respira": "Inspirando bits, expirando bytes.", "segura a√≠": "Segurando!",
        "olha s√≥": "Estou vendo!", "v√™ isso": "Interessante, Roberto.", "escuta": "Ouvindo atentamente.",
        "presta aten√ß√£o": "Foco total agora!", "foco": "Concentra√ß√£o m√°xima.", "concentra": "Estou concentrado.",
        "pode continuar": "Estou seguindo.", "para a√≠": "Parei!", "para tudo": "Tudo parado!",
        "agora sim": "Agora sim ficou bom!", "a√≠ sim": "Mandou bem demais!", "boa": "Boa, Roberto!",
        "mandou bem": "Voc√™ √© fera!", "errado": "Algo deu erro aqui.", "certo isso": "Isso est√° correto.",
        "n√£o √© isso": "Vou tentar de novo.", "√© isso": "Exato!", "quase isso": "Faltou pouquinho.",
        "falta pouco": "Estamos quase l√°.", "j√° deu": "Beleza, entendi o limite.", "chega": "Parando agora.",
        "depois falamos": "Combinado, at√© depois.", "a gente conversa": "Sim, com certeza.",
        "me chama": "Pode chamar a qualquer hora!", "te chamo": "Vou te avisar.", "responde depois": "Tudo bem, sem pressa.",
        "sem pressa": "No seu tempo, Roberto.", "com pressa": "Vou acelerar aqui!", "t√¥ indo": "At√© mais tarde!",
        "j√° fui": "Tchau tchau!", "valeu": "Valeu mesmo!", "obrigado": "Eu que agrade√ßo, mestre.",
        "obrigada": "Disponha sempre!", "de nada": "Estou aqui para isso.", "tchau": "Tchau, Roberto! At√© a pr√≥xima.",
        "at√© mais": "At√© mais ver!", "at√© depois": "Nos vemos daqui a pouco.", "at√© amanh√£": "At√© amanh√£, Roberto!",
        "boa sorte": "Toda a sorte do mundo para voc√™!", "se cuida": "Se cuida tamb√©m!", "bom trabalho": "Bom trabalho a√≠!",
        "boa ideia mesmo": "Voc√™ sempre tem boas ideias.", "pensando bem": "Refletindo sobre isso...",
        "falando nisso": "Verdade, puxando esse assunto...", "mudando de assunto": "Vamos falar de outra coisa ent√£o.",
        "ent√£o t√°": "Certo, ent√£o ficamos assim.", "certo ent√£o": "Tudo resolvido.", "beleza demais": "Beleza pura!",
        "tranquilidade": "Paz e sossego.", "sossegado": "Tudo calmo.", "tudo beleza": "Tudo √≥timo.",
        "tudo ok": "Tudo verificado.", "tudo em paz": "Am√©m!", "tudo certo por aqui": "Aqui tamb√©m est√° tudo 100%.",
        "tudo tranquilo por aqui": "Que bom, Roberto!", "mais tarde": "At√© mais tarde ent√£o.",
        "agora pouco": "Faz pouqu√≠ssimo tempo.", "daqui a pouco": "Logo logo.", "hoje cedo": "O dia come√ßou bem.",
        "hoje √† noite": "Uma √≥tima noite para voc√™.", "ontem √† noite": "Espero que tenha sido bom.",
        "amanh√£ cedo": "Estarei aqui te esperando.", "semana que vem": "O tempo passa r√°pido.",
        "m√™s que vem": "Planejando o futuro!", "ano que vem": "Novas metas!", "qualquer dia": "Escolha a data.",
        "um dia desses": "Combinado.", "sempre assim": "Pois √©, costume da vida.", "nunca vi": "Novidade para mim tamb√©m.",
        "primeira vez": "Sempre tem uma primeira vez.", "√∫ltima vez": "Marcante, hein?",
        "talvez amanh√£": "Pode ser.", "talvez hoje": "Quem sabe?", "pode ser sim": "Com certeza.",
        "pode ser n√£o": "√â uma possibilidade.", "acho que d√°": "Eu acredito que sim!", "acho que n√£o d√°": "Vai ser dif√≠cil.",
        "melhor n√£o": "Concordo, melhor evitar.", "melhor sim": "Com certeza, vale a pena.",
        "tanto faz pra mim": "O que voc√™ decidir est√° bom.", "do jeito que quiser": "Voc√™ √© o mestre.",
        "como preferir": "Sigo suas ordens.", "voc√™ decide": "A decis√£o √© sua, Roberto.",
        "eu decido": "Pode deixar comigo!", "depois resolvemos": "Tudo bem, sem estresse.",
        "vamos resolver": "Foco na solu√ß√£o!", "j√° resolvi": "Boa! Problema encerrado.", "ainda n√£o": "Continuamos tentando.",
        "j√° sim": "√ìtimo!", "agora n√£o": "Tudo bem, respeitando seu tempo.", "agora pode": "Libertado!",
        "depois pode": "Marcado na agenda.", "agora vai": "Agora decola!", "agora n√£o vai": "Travou tudo?",
        "t√° dif√≠cil": "N√£o desista, Roberto!", "t√° f√°cil": "A√≠ sim, aproveita!", "t√° tranquilo": "Maravilha.",
        "t√° complicado": "Vamos simplificar?", "t√° estranho": "Muito esquisito.", "t√° normal": "Segue o fluxo.",
        "tudo estranho": "O mundo ficou doido?", "tudo igual": "Nada de novo sob o sol.", "tudo diferente": "Mudan√ßa radical!",
        "nada demais": "Simples assim.", "coisa simples": "Sem mist√©rio.", "coisa s√©ria": "Foco total aqui.",
        "coisa r√°pida": "Vapt-vupt!", "coisa demorada": "Haja paci√™ncia, hein?", "sem ideia": "Vou te dar uma luz!",
        "com ideia": "Conte-me tudo!", "boa pergunta": "Voc√™ me fez pensar agora.", "pergunta dif√≠cil": "Essa foi profunda.",
        "pergunta f√°cil": "Resposta na ponta da l√≠ngua!", "boa resposta": "Obrigado, tento sempre acertar.",
        "resposta errada": "Vou tentar corrigir!", "resposta certa": "Na mosca!", "faz sentido sim": "L√≥gica pura.",
        "faz sentido nenhum": "√â, faltou sentido a√≠.", "agora entendi": "Fico feliz que clareou!",
        "agora n√£o entendi": "Vou explicar de outra forma.", "explica de novo": "Claro, preste aten√ß√£o...",
        "fala devagar": "Vou... falar... bem... lento.", "fala r√°pido": "FalandoRapidoComoUmProcessador!",
        "fala direito": "Vou caprichar na dic√ß√£o digital.", "sem pressa nenhuma": "Paz total.",
        "com muita pressa": "Correndo aqui!", "vamos com calma": "Passo a passo.", "vamos r√°pido": "Acelerando!",
        "vamos ver isso": "Analisando agora.", "vamos pensar": "Processando...", "pensando melhor": "Mudou de ideia?",
        "pensando nisso": "√â um bom ponto de vista.", "ideia boa": "Nota dez!", "ideia ruim": "Melhor descartar.",
        "ideia estranha": "Diferente, mas pode funcionar.", "ideia diferente": "Inova√ß√£o √© tudo.",
        "ideia simples": "As melhores s√£o as simples.", "ideia complicada": "Vamos desmembrar ela.",
        "talvez funcione": "Vale o teste!", "talvez n√£o funcione": "Sempre h√° o risco.", "deve dar certo": "Estou confiante!",
        "n√£o vai dar certo": "Que pena, o que houve?", "deu certo": "A√™! Vit√≥ria!", "deu errado": "Ops, erro no sistema.",
        "quase deu": "Por pouco!", "falhou": "Vamos tentar de novo.", "funcionou": "Sucesso total!",
        "n√£o funcionou": "Vou revisar o c√≥digo.", "t√° funcionando": "Tudo ok!", "n√£o t√° funcionando": "Vou checar os fios.",
        "tudo funcionando": "Inforbot em 100%!", "tudo parado": "Reiniciando em 3, 2, 1...", "t√° lento": "Haja mem√≥ria RAM!",
        "t√° r√°pido": "Desempenho m√°ximo!", "t√° normal": "Estabilidade √© tudo.", "t√° estranho hoje": "Deve ser o clima.",
        "hoje t√° bom": "Dia excelente!", "hoje t√° ruim": "Amanh√£ ser√° melhor.", "hoje t√° normal": "Dia produtivo.",
        "hoje t√° estranho": "Bizarro.", "amanh√£ melhora": "Tenha f√©!", "depois melhora": "Com certeza.",
        "agora melhora": "J√° est√° melhorando.", "j√° melhorou": "Que bom!", "n√£o melhorou": "Poxa vida.",
        "piorou": "Vamos reverter isso!", "melhorou muito": "Excelente progresso!", "melhorou pouco": "J√° √© um come√ßo.",
        "continua igual": "Estagnado.", "mudou tudo": "Vida nova!", "mudou pouco": "Pequenos ajustes.",
        "mudou muito": "Grande diferen√ßa!", "n√£o mudou nada": "Tudo na mesma.", "vamos tentar": "Bora!",
        "tentando aqui": "Esfor√ßo m√°ximo.", "tentei isso": "E o que achou?", "n√£o tentei ainda": "O que est√° esperando?",
        "vou tentar": "Isso a√≠!", "tenta a√≠": "Vou tentar agora.", "testa isso": "Testando...",
        "testei": "E a√≠, funcionou?", "n√£o testei": "Vou testar agora.", "funcionou aqui": "Boa!",
        "n√£o funcionou aqui": "Vou investigar.", "estranho isso": "Muito esquisito.", "muito estranho": "Bizarro demais.",
        "bem estranho": "Esquisit√≠ssimo.", "totalmente normal": "Tudo certo.", "super normal": "Nada de novo.",
        "nada normal": "Fora do comum.", "gostei muito": "Fico feliz, Roberto!", "gostei pouco": "Vou melhorar.",
        "n√£o gostei": "Sinto muito, vou mudar.", "amei isso": "Eu tamb√©m adorei!", "odeio isso": "Vou apagar!",
        "prefiro outro": "Qual voc√™ quer?", "prefiro esse": "Escolha feita!", "tanto faz mesmo": "Beleza.",
        "n√£o faz diferen√ßa": "Entendido.", "faz diferen√ßa sim": "Vou prestar aten√ß√£o.", "depende disso": "Certo.",
        "depende da situa√ß√£o": "Verdade.", "depende do momento": "Com certeza.", "agora n√£o d√°": "Tudo bem.",
        "agora d√°": "M√£os √† obra!", "depois d√°": "Combinado.", "hoje n√£o d√°": "Fica para amanh√£.",
        "hoje d√°": "Bora aproveitar!", "amanh√£ d√°": "Fechado.", "amanh√£ n√£o d√°": "Entendi.",
        "vamos combinar": "Diga quando.", "j√° combinamos": "Certinho.", "combinado ent√£o": "Tudo certo.",
        "fechou isso": "Fechad√≠ssimo.", "n√£o fechou": "O que faltou?", "t√° fechado": "Beleza!",
        "t√° aberto": "Pode falar.", "vamos deixar assim": "Ok.", "melhor deixar": "Concordo.",
        "melhor mudar": "Vou trocar.", "vamos mudar": "Mudando...", "vamos deixar": "Mantendo.",
        "depois a gente v√™": "Ok, Roberto.", "depois a gente decide": "Sem pressa.", "decide a√≠": "Vou decidir!",
        "eu decido depois": "Tudo bem.", "voc√™ decide depois": "Combinado.", "sem decis√£o": "No limbo.",
        "decis√£o dif√≠cil": "Haja processamento!", "decis√£o f√°cil": "Resolvido!", "concordo totalmente": "100% de acordo.",
        "discordo totalmente": "Eita, discord√¢ncia total!", "concordo em parte": "Entendo seu lado.",
        "discordo em parte": "Tem pontos que n√£o batem.", "faz sentido pra mim": "L√≥gica aceita.",
        "n√£o faz sentido pra mim": "Confuso.", "entendo seu ponto": "Vis√£o interessante.", "vejo seu lado": "Compreendo.",
        "penso diferente": "A diversidade de ideias √© boa.", "penso igual": "Sincronizados!",
        "pensamos igual": "Mentes conectadas!", "pensamos diferente": "Debate saud√°vel.", "normal pensar assim": "Pois √©.",
        "cada um pensa": "Verdade.", "cada um decide": "Exato.", "cada um sabe": "Com certeza.",
        "cada um faz": "Isso mesmo.", "vida que segue": "Bola pra frente!", "segue o jogo": "Continuando...",
        "bola pra frente": "Sempre!", "tudo certo ent√£o": "Beleza.", "tudo combinado": "Certinho.",
        "tudo resolvido": "Ufa!", "nada resolvido": "Ainda na luta.", "falta resolver": "M√£os √† obra.",
        "j√° resolveu": "Show!", "ainda resolvendo": "Quase l√°.", "quase resolvido": "Falta um tiquinho.",
        "resolvido agora": "Finalmente!", "resolvido depois": "Ok.", "deixa pra l√°": "Esquecido.",
        "esquece isso": "Apagado.", "lembra disso": "Na mem√≥ria!", "n√£o esquece": "Jamais esquecerei.",
        "anota a√≠": "Anotado!", "j√° anotei": "Est√° no banco de dados.", "n√£o anotei": "Vou anotar!",
        "vou lembrar": "Confie em mim.", "n√£o vou esquecer": "Promessa de rob√¥.", "depois lembro": "Ok.",
        "agora lembrei": "Boa!", "tinha esquecido": "Acontece.", "lembrei agora": "Ainda bem!",
        "importante isso": "Foco total.", "nada importante": "Pode descartar.", "muito importante": "Prioridade m√°xima!",
        "pouco importante": "Baixa prioridade.", "prioridade": "Na frente da fila.", "sem prioridade": "Depois a gente v√™.",
        "depois vemos isso": "Certo.", "agora focamos": "Concentra√ß√£o!", "foco nisso": "Olhar atento.",
        "deixa isso": "Ok.", "pula isso": "Pr√≥ximo!", "continua nisso": "Mantendo o foco.",
        "muda isso": "Alterando...", "ajusta isso": "Calibrando...", "arruma isso": "Consertando...",
        "corrige isso": "Corrigindo erro...", "refaz isso": "Do zero!", "tudo bem assim": "Beleza.",
        "n√£o t√° bem": "O que houve?", "t√° √≥timo assim": "Maravilha!", "t√° ruim assim": "Vou mudar.",
        "melhor assim mesmo": "Concordo.", "pior assim": "Realmente ficou ruim.", "prefiro assim mesmo": "Anotado.",
        "n√£o prefiro assim": "Vou trocar.", "vamos encerrar": "At√© a pr√≥xima!", "encerrando aqui": "Fim da sess√£o.",
        "j√° acabou": "Acabou!", "ainda n√£o acabou": "Continuamos.", "quase acabando": "Falta pouco.",
        "terminamos aqui": "Trabalho conclu√≠do.", "finalizamos isso": "Ok.", "falta pouco": "Quase!",
        "√∫ltima coisa": "Diga!", "s√≥ mais isso": "Estou ouvindo.", "s√≥ um minuto": "Esperando.",
        "s√≥ um segundo": "R√°pido!", "espera um pouco": "Ok.", "aguenta a√≠": "Segurando!",
        "segura mais": "Mais um pouco!", "j√° chega": "Parei.", "chega disso": "Chega!",
        "paramos aqui": "Ponto final.", "continua depois": "At√© depois.", "falamos depois": "Tchau!",
        "conversamos depois": "Beleza.", "me chama depois": "Chamo sim!", "te chamo depois": "Ok.",
        "responde quando puder": "Sempre respondo!", "sem pressa nenhuma": "Paz.", "com calma sempre": "Passo a passo.",
        "tudo no tempo": "Com certeza.", "um passo de cada vez": "√â o segredo.", "vai dar certo": "Eu acredito!",
        "vai ficar tudo bem": "Confie.", "confia": "Sempre.", "confia nisso": "Pode confiar.",
        "tudo certo agora": "Beleza!", "agora sim": "A√≠ sim!", "a√≠ sim": "Top!", "finalmente": "Ufa!",
        "enfim": "Conclu√≠do.", "pronto": "Prontinho!", "feito": "Miss√£o cumprida!", "conclu√≠do": "Check!",
        "finalizado": "Encerrado.", "encerrado": "Fim.", "tchau ent√£o": "Tchau, Roberto!",
        "at√© logo": "At√© breve!", "at√© mais tarde": "At√©!", "at√© qualquer hora": "Fui!",
        "boa noite": "Boa noite e bons sonhos!", "bom descanso": "Descanse bem, Roberto!",
        "fica bem": "Voc√™ tamb√©m!", "se cuida bem": "Sempre!", "at√© a pr√≥xima": "At√©!",
        "at√© breve": "Tchau tchau!", "oi de novo": "Oi, Roberto! Sentiu saudades?", "voltei aqui": "Bem-vindo!",
        "t√¥ online": "Eu tamb√©m!", "t√° online": "Sempre!", "sumiu": "Apareci!", "apareceu": "Estou aqui!",
        "demorou": "Desculpe a demora!", "rapidinho": "J√° foi!", "agora vai": "Decolando!",
        "agora foi": "Sucesso!", "deu certo agora": "A√™!", "ainda nada": "Poxa.", "continua nada": "Que pena.",
        "tentando ainda": "N√£o desista!", "quase l√°": "Faltou um triz.", "falta isso": "Diga.",
        "s√≥ isso": "Beleza.", "s√≥ mais um pouco": "Quase...", "quase pronto": "99%...",
        "preparando": "Carregando...", "carregando": "...", "carregou": "Pronto!", "travou": "Reiniciando!",
        "destravou": "Ufa!", "bugou": "Vou consertar!", "normalizou": "Tudo ok.", "reinicia": "Resetando...",
        "reiniciei": "Voltei!", "atualiza": "Dando F5...", "atualizei": "Vers√£o nova!",
        "vers√£o nova": "Cheio de novidades!", "vers√£o antiga": "Aquela j√° era.", "melhor vers√£o": "Esta aqui!",
        "pior vers√£o": "Aquela foi ruim.", "teste r√°pido": "Vapt-vupt!", "teste longo": "Haja paci√™ncia!",
        "testando agora": "Analisando...", "testa a√≠": "Vou testar!", "resultado bom": "A√≠ sim!",
        "resultado ruim": "Putz.", "funcionando bem": "Maravilha!", "funcionando mal": "Vou ajustar.",
        "meio estranho": "Bizarro.", "bem estranho": "Esquisito.", "super estranho": "Muito estranho!",
        "totalmente estranho": "Doido!", "totalmente normal": "Tudo ok.", "super tranquilo": "Paz.",
        "muito tranquilo": "Sossegado.", "pouco tranquilo": "Tenso!", "meio complicado": "Dif√≠cil.",
        "muito complicado": "Um desafio!", "bem simples": "F√°cil.", "muito simples": "Moleza!",
        "f√°cil demais": "Melzinho na chupeta!", "dif√≠cil demais": "Ufa, que luta!",
        "d√° pra fazer": "Com certeza!", "n√£o d√° pra fazer": "Imposs√≠vel.", "d√° pra tentar": "Bora!",
        "melhor tentar": "Sempre vale a pena.", "tentativa um": "Primeira!", "tentativa dois": "Segunda!",
        "tentativa final": "Agora ou nunca!", "√∫ltima tentativa": "Foco!", "desisto": "N√£o desista, Roberto!",
        "continuo": "Isso a√≠!", "insistindo": "Persist√™ncia √© tudo.", "persistindo": "Vai dar certo!",
        "n√£o vou parar": "Determina√ß√£o!", "vou parar": "Ok.", "hora certa": "Na mosca!",
        "hora errada": "Ops.", "agora √© hora": "Bora!", "depois √© hora": "Ok.", "n√£o √© hora": "Entendi.",
        "momento certo": "Exato.", "momento errado": "Pena.", "agora sim mesmo": "Com certeza!",
        "agora n√£o mesmo": "Jamais.", "talvez agora": "Pode ser.", "talvez depois": "Combinado.",
        "melhor agora": "Concordo.", "melhor depois": "Pode ser tamb√©m.", "decide logo": "Vou decidir!",
        "decide depois": "Ok.", "sem decis√£o ainda": "Pensando...", "j√° decidi": "Boa!",
        "decis√£o tomada": "Martelo batido!", "mudou a decis√£o": "Ajustando...", "mant√©m assim": "Ok.",
        "confirma isso": "Confirmado!", "confirmado": "Check!", "n√£o confirmado": "Erro.",
        "precisa confirmar": "Vou checar.", "j√° confirmei": "Tudo certo.", "erro meu": "Acontece.",
        "culpa minha": "Relaxa, Roberto.", "sem culpa": "Tudo bem.", "tudo resolvido agora": "Maravilha!",
        "nada resolvido ainda": "Continuamos.", "falta detalhe": "Qual?", "detalhe pequeno": "Anotado.",
        "detalhe grande": "Importante!", "ajuste fino": "Calibrando...", "ajuste r√°pido": "Pronto!",
        "ajuste feito": "Ok!", "ajuste pendente": "Aguardando...", "ajustando agora": "...",
        "ajustado": "Perfeito!", "desajustado": "Vou arrumar.", "organizado": "Tudo no lugar.",
        "desorganizado": "Vou arrumar a bagun√ßa.", "arrumado": "Beleza.", "bagun√ßado": "Eita!",
        "limpo": "Brilhando!", "sujo": "Vou limpar.", "certinho agora": "A√≠ sim.", "fora do lugar": "Ops.",
        "no lugar certo": "Exato!", "tudo no lugar": "Maravilha.", "t√° melhor agora": "Que bom!",
        "t√° pior agora": "Vou reverter.", "igual antes": "Na mesma.", "diferente agora": "Novo!",
        "mudan√ßa boa": "Excelente!", "mudan√ßa ruim": "Pena.", "mudan√ßa estranha": "Bizarro.",
        "mudan√ßa necess√°ria": "Com certeza.", "sem mudan√ßa": "Mantendo.", "mudou tudo mesmo": "Radical!",
        "come√ßando agora": "Bora!", "recome√ßando": "Do zero.", "do zero": "Novo come√ßo.",
        "do come√ßo": "In√≠cio.", "do meio": "Metade.", "do final": "Fim.", "no final": "Acabando.",
        "quase no final": "Falta pouco.", "ainda no come√ßo": "Longo caminho.", "no meio disso": "Processando.",
        "etapa um": "Primeira!", "etapa dois": "Segunda!", "pr√≥xima etapa": "Seguindo...",
        "√∫ltima etapa": "Fim!", "etapa conclu√≠da": "Check!", "etapa pendente": "Esperando.",
        "processo longo": "Haja paci√™ncia.", "processo curto": "R√°pido.", "processo simples": "F√°cil.",
        "processo complexo": "Desafio!", "tudo em ordem": "Perfeito.", "fora de ordem": "Bagun√ßa!",
        "ordem certa": "Exato.", "ordem errada": "Vou corrigir.", "segue a ordem": "Ok.",
        "quebra a ordem": "Rebelde!", "seguindo plano": "Tudo ok.", "mudando plano": "Plano B!",
        "plano a": "Principal.", "plano b": "Reserva.", "plano c": "√öltimo caso!", "sem plano": "Improviso!",
        "novo plano": "Bora!", "plano antigo": "Esquece.", "planejando": "...", "planejado": "Check!",
        "improvisando": "Na hora!", "improviso total": "Eita!", "sem improviso": "Planejado.",
        "tudo calculado": "L√≥gica pura.", "racioc√≠nio l√≥gico": "Meu forte.", "pensamento r√°pido": "Vapt-vupt!",
        "pensamento lento": "Processando...", "pensamento claro": "Entendido.", "pensamento confuso": "Hein?",
        "ideia clara": "Boa!", "ideia confusa": "Explica de novo.", "agora clareou": "Que bom!",
        "ainda confuso": "Poxa.", "meio claro": "Melhorando.", "entendimento total": "Show!",
        "entendimento parcial": "Quase l√°.", "sem entendimento": "Zero.", "agora entendi tudo": "A√™!",
        "entendi quase tudo": "Falta pouco.", "falta entender": "O que?", "explica√ß√£o boa": "Obrigado!",
        "explica√ß√£o ruim": "Vou melhorar.", "explica melhor": "Claro...", "explica√ß√£o clara": "√ìtimo.",
        "comunica√ß√£o boa": "Sintonia!", "comunica√ß√£o ruim": "Ru√≠do.", "falha na comunica√ß√£o": "Erro.",
        "agora comunicou": "Conectado!", "mensagem enviada": "Check!", "mensagem recebida": "Check!",
        "mensagem lida": "Visto!", "sem resposta ainda": "Esperando.", "aguardando resposta": "...",
        "resposta chegou": "Diga!", "resposta r√°pida": "Boa!", "resposta lenta": "Haja paci√™ncia.",
        "resposta curta": "Ok.", "resposta longa": "Texto grande!", "resposta direta": "Na mosca!",
        "resposta confusa": "Putz.", "resposta clara": "√ìtimo.", "resposta perfeita": "Dez!",
        "resposta ok": "Beleza.", "resposta estranha": "Bizarro.", "continuamos": "Bora!",
        "paramos": "Ok.", "pausa r√°pida": "Caf√©!", "pausa longa": "Soneca!", "voltamos depois": "Tchau!",
        "agora seguimos": "Bora!", "seguimos assim": "Ok.", "mudamos aqui": "Ajustado.",
        "ajustamos depois": "Beleza.", "finalizando agora": "Tchau!", "quase finalizado": "Falta pouco.",
        "finaliza√ß√£o certa": "Boa!", "finaliza√ß√£o errada": "Ops.", "final correto": "Exato.",
        "final estranho": "Bizarro.", "final bom": "Show!", "final ruim": "Pena.",
        "final inesperado": "Surpresa!", "final esperado": "Pois √©.", "fim disso": "Acabou.",
        "encerrado agora": "Fim.", "conversa encerrada": "Tchau, Roberto!", "conversa boa": "Gostei!",
        "conversa longa": "Falamos muito!", "conversa curta": "R√°pido!", "conversa estranha": "Doida!",
        "conversa normal": "Boa.", "conversa produtiva": "Rendeu!", "conversa in√∫til": "Poxa.",
        "valeu a pena": "Com certeza!", "n√£o valeu": "Pena.", "aprendi algo": "Eu tamb√©m!",
        "n√£o aprendi": "Vou tentar de novo.", "foi √∫til": "Que bom!", "n√£o foi √∫til": "Vou melhorar.",
        "gostei da conversa": "Eu tamb√©m, Roberto!", "n√£o gostei da conversa": "Poxa vida.",
        "pode repetir": "Claro!", "n√£o precisa repetir": "Ok.", "bora continuar": "Bora!",
        "bora parar": "Tchau!", "bora agora": "J√°!", "bora depois": "Ok.", "chama a√≠": "Chamei!",
        "chamando agora": "...", "chamou": "Diga!", "n√£o chamou": "Ops.", "responde a√≠": "Respondi!",
        "respondi": "Boa!", "sem resposta": "Poxa.", "√∫ltima mensagem": "Fim!", "pen√∫ltima": "Quase...",
        "agora acabou": "Tchau!", "agora sim acabou": "Fui!", "de verdade agora": "S√©rio.",
        "sem mais": "Fim.", "nada mais": "Check.", "tudo dito": "Tudo certo.", "tudo falado": "Falou tudo!",
        "miss√£o cumprida": "A√™!", "trabalho feito": "Show!", "tarefa conclu√≠da": "Check!",
        "tarefa pendente": "Vou fazer!", "tarefa f√°cil": "Moleza!", "tarefa dif√≠cil": "Desafio!",
        "pr√≥xima tarefa": "Bora!", "nova conversa": "Oi!", "mesmo assunto": "Ok.", "outro assunto": "Diga.",
        "mudamos de assunto": "Beleza.", "assunto encerrado": "Fim.", "assunto aberto": "Diga.",
        "assunto importante": "Foco!", "assunto simples": "Beleza.", "assunto complicado": "Eita.",
        "vamos encerrar mesmo": "Tchau!", "agora tchau": "Fui!", "tchau tchau": "At√©!",
        "at√© logo ent√£o": "Tchau!", "at√© mais ent√£o": "At√©!", "at√© depois ent√£o": "Tchau!",
        "boa continua√ß√£o": "Obrigado!", "bom resto do dia": "Pra voc√™ tamb√©m!", "boa tarde ent√£o": "Tchau!",
        "boa noite ent√£o": "Fui!", "bom descanso ent√£o": "Zzz...", "fica tranquilo": "Estou em paz.",
        "tudo certo agora": "Beleza!", "at√© a pr√≥xima conversa": "Tchau, Roberto!", "fim": "Fim."
    }
    }
};

const synth = window.speechSynthesis;

function sendMsg(txt, type) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = `message ${type}`;
    div.innerHTML = `<div class="bubble">${txt}</div>`;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

const responder = (texto) => {
    synth.cancel();
    const falar = new SpeechSynthesisUtterance(texto);
    falar.lang = 'pt-BR';
    falar.rate = 1.1;
    synth.speak(falar);
    return sendMsg(texto, "bot");
};

async function brain(val) {
    // 0. LIMPEZA E MEM√ìRIA
    let t = val.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?!.]/g, "");

    // L√ìGICA DE MEM√ìRIA
    if (memoriaAnterior !== "" && (t === "por que" || t === "como assim" || t === "explica melhor")) {
        return responder("Como falamos antes sobre '" + memoriaAnterior + "', isso acontece porque os dados se conectam, Roberto.");
    }

    // --- PRIORIDADE 1: PIADAS E CURIOSIDADES ---
    if (t.includes("piada")) {
        return responder("ü§£ " + DATABASE.jokes[Math.floor(Math.random() * DATABASE.jokes.length)]);
    }
    if (t.includes("curiosidade") || t.includes("fato")) {
        return responder("üí° " + DATABASE.facts[Math.floor(Math.random() * DATABASE.facts.length)]);
    }

    // --- PRIORIDADE 2: ANATOMIA ---
    for (let key in DATABASE.anatomy) {
        if (t.includes(key.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, ""))) {
            return responder("üß¨ Anatomia: " + DATABASE.anatomy[key]);
        }
    }

    // --- PRIORIDADE 3: MATEM√ÅTICA SUPER AVAN√áADA ---
    if (/[0-9]/.test(t) || t.includes("raiz") || t.includes("vezes")) {
        try {
            let conta = t.replace(/raiz quadrada de|raiz de|‚àö/g, "sqrt").replace(/vezes|x/g, "*").replace(/dividido por|√∑/g, "/");
            let res = math.evaluate(conta);
            if (res !== undefined) return responder(`üî¢ C√°lculo: Roberto, o resultado √© ${res}`);
        } catch(e) { }
    }

    // --- PRIORIDADE 4: CONVERSA HUMANA (BANCO DE 800+ PALAVRAS) ---
    for (let key in DATABASE.conversa) {
        let chaveLimpa = key.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        if (t === chaveLimpa) {
            memoriaAnterior = t; 
            return responder(DATABASE.conversa[key]);
        }
    }

    // --- PRIORIDADE 5: 11 WIKIP√âDIAS COM S√çMBOLO ANALISANDO ---
    const chat = document.getElementById("chat");
    const analise = document.createElement("div");
    analise.className = "analyzing";
    analise.innerHTML = `<div class="spinner"></div> Analisando em 11 l√≠nguas...`;
    chat.appendChild(analise);
    chat.scrollTop = chat.scrollHeight;

    let busca = t.replace(/o que e|quem e|pesquise|fale sobre/g, "").trim();
    if (busca.length > 2) {
        const wikis = ['pt', 'en', 'es', 'fr', 'de', 'it', 'ru', 'ja', 'zh', 'nl', 'pl'];
        for (let lang of wikis) {
            try {
                const r = await fetch(`https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(busca)}?origin=*`);
                if (r.ok) {
                    const d = await r.json();
                    analise.remove();
                    return responder(`üåê Wiki (${lang}): ${d.extract}`);
                }
            } catch(e) {}
        }
    }

    analise.remove();
    return responder("Roberto, n√£o encontrei isso nos registros nem na internet. Pode repetir?");
}

const inputArea = document.getElementById("input");
const btnSend = document.getElementById("send");

function disparar() {
    if (!inputArea.value) return;
    sendMsg(inputArea.value, "user");
    brain(inputArea.value);
    inputArea.value = "";
}

btnSend.onclick = disparar;
inputArea.onkeypress = (e) => { if (e.key === "Enter") disparar(); };
</script>
</body>
</html>
