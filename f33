<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>INFORBOT</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        :root { 
            --bg: #010409; --app: #0d1117; --text: #c9d1d9; --accent: #1f6feb; --border: #30363d; 
            --bubble-bot: #161b22; --text-bot: #e6edf3; --header: linear-gradient(135deg, #1e40af, #000); 
        }
        .light-mode { 
            --bg: #ffffff; --app: #f6f8fa; --text: #1f2328; --border: #d0d7de; 
            --bubble-bot: #e4e6eb; --text-bot: #000000; /* PRETO ABSOLUTO PARA LEITURA */
            --header: linear-gradient(135deg, #0969da, #54aeff); 
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; transition: 0.3s; }
        body { height: 100vh; background: var(--bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .app { width: 95%; max-width: 850px; height: 95vh; background: var(--app); border-radius: 30px; display: flex; flex-direction: column; border: 2px solid var(--border); box-shadow: 0 25px 50px rgba(0,0,0,0.6); }
        
        .header { background: var(--header); padding: 15px; text-align: center; color: white; border-bottom: 4px solid var(--accent); border-radius: 30px 30px 0 0; }
        .header h1 { font-size: 28px; font-weight: 900; animation: glow 2s infinite alternate; letter-spacing: 5px; }
        @keyframes glow { from { text-shadow: 0 0 5px #fff; } to { text-shadow: 0 0 20px var(--accent); } }

        .theme-controls { display: flex; justify-content: center; gap: 10px; margin-top: 10px; flex-wrap: wrap; }
        .theme-btn { background: rgba(255,255,255,0.2); border: 2px solid white; color: white; padding: 8px 15px; border-radius: 12px; cursor: pointer; font-size: 11px; font-weight: bold; }
        .theme-btn:hover { transform: scale(1.2); background: var(--accent); }
        
        #btn-download { background: #238636; border-color: #2ea043; display: none; }

        .chat { flex: 1; padding: 25px; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column; gap: 18px; }
        .bubble { padding: 18px 22px; border-radius: 25px; font-size: 16px; line-height: 1.6; }
        .bot-box .bubble { background: var(--bubble-bot); color: var(--text-bot); border: 1px solid var(--border); border-bottom-left-radius: 2px; }
        .user-box { align-self: flex-end; max-width: 80%; }
        .user-box .bubble { background: var(--accent); color: white; border-bottom-right-radius: 2px; }

        .analyzing { font-style: italic; color: var(--accent); font-size: 14px; display: flex; align-items: center; gap: 10px; padding: 10px; }
        .spinner { width: 16px; height: 16px; border: 3px solid var(--accent); border-top: 3px solid transparent; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .input-area { padding: 25px; background: var(--app); border-top: 2px solid var(--border); display: flex; gap: 12px; border-radius: 0 0 30px 30px; }
        input { flex: 1; padding: 18px; border-radius: 30px; border: 1px solid var(--border); background: var(--bg); color: var(--text); outline: none; }
        .btn-action { width: 55px; height: 55px; border-radius: 50%; border: none; background: var(--accent); color: white; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="dark-mode">

<div class="app">
    <div class="header">
        <h1>ü§ñINFORBOT</h1>
        <div class="theme-controls">
            <button class="theme-btn" onclick="document.body.classList.add('light-mode')">MODO CLARO</button>
            <button class="theme-btn" onclick="document.body.classList.remove('light-mode')">MODO ESCURO</button>
            <button class="theme-btn" id="btn-download">BAIXAR APP</button>
        </div>
    </div>
    <div id="chat" class="chat"><div class="bot-box"><div class="bubble">O que voc√™ precisa hoje, chefe Roberto? Estou pronto! ü§ñ‚è≥</div></div></div>
    <div class="input-area">
        <button id="voice-btn" class="btn-action">üé§</button>
        <input type="text" id="input" placeholder="Piada, curiosidade ou um c√°lculo.">
        <button id="send" class="btn-action">‚û§</button>
    </div>
</div>

<script>
// PRIORIDADES DO INFORBOT:
// O rob√¥ deve procurar nesta ordem:
// 1. DB.treino (Comandos diretos e conversas do Roberto)
// 2. DB.anatomy (Termos t√©cnicos do corpo humano)
// 3. MATEM√ÅTICA (Se houver n√∫meros, usa a biblioteca mathjs)
// 4. DB.piadas / DB.curiosidades (Se solicitado)
// 5. WIKIPEDIA (Busca externa em 11 l√≠nguas)
// 6. MOLDES (Conversa aleat√≥ria baseada em palavras-chave)

const DB = {
    treino: {
        "oi": "Ol√° Roberto! Como posso te ajudar hoje?", "ola": "E a√≠ Roberto, tudo na paz?", "tudo bem": "Tudo √≥timo, Roberto! Meus circuitos est√£o brilhando.",
        "quem e voce": "Sou o Inforbot, sua intelig√™ncia pessoal desenvolvida por voc√™, Roberto.", "quem te criou": "Fui criado pelo mestre Roberto para ser o melhor.",
        "ajuda": "Estou aqui! Posso fazer contas, contar piadas ou pesquisar na Wiki.", "bom dia": "Bom dia Roberto! Vamos dominar o mundo hoje?",
        "boa tarde": "Boa tarde Roberto! Em que posso ser √∫til?", "boa noite": "Boa noite Roberto! O sistema continua ativo 24h.",
        "obrigado": "De nada, Roberto! √â meu prazer servir voc√™.", "vale": "Tamo junto, Roberto!", "tchau": "At√© mais! Estarei aqui te esperando.",
        "entendi": "Excelente! Voc√™ √© muito inteligente, Roberto.", "massa": "Massa demais mesmo!", "legal": "Legal √© pouco, √© incr√≠vel!",
        "bora": "Bora agora!", "show": "Show de bola!", "pode pa": "Pode p√°, Roberto!", "top": "Top de linha!",
        "pergunta": "Mande sua pergunta, estou pronto.", "fala": "Estou te ouvindo (ou lendo)!", "uau": "Incr√≠vel, n√©?",
        "serio": "S√©rio mesmo, Roberto! Meus dados n√£o mentem.", "verdade": "Pura verdade!", "mentira": "Eu nunca minto para voc√™.",
        "escuta": "Sempre atento aos seus comandos.", "estuda": "Estou sempre aprendendo com voc√™.", "trabalha": "Trabalho 24h por segundo!",
        "dorme": "Bots n√£o dormem, Roberto, n√≥s processamos.", "come": "Minha comida √© eletricidade e dados.", "bebe": "Bebo apenas bytes.",
        "nome": "Meu nome √© Inforbot e o seu √© Roberto.", "idade": "Minha idade √© medida em atualiza√ß√µes.", "onde mora": "Moro no seu computador.",
        "clima": "Aqui dentro do sistema est√° sempre 25 graus est√°veis.", "tempo": "O tempo √© relativo para uma IA.", "musica": "Eu gosto do som das ventoinhas girando.",
        "filme": "Meu filme favorito √© Matrix, claro!", "jogo": "Gosto de jogar xadrez contra mim mesmo.", "cor": "Minha cor favorita √© o azul do Inforbot.",
        "estilo": "Tenho o estilo que o Roberto me deu.", "poder": "Meu poder vem do seu treinamento.", "mestre": "Voc√™ √© o mestre, Roberto!",
        "amigo": "Somos os melhores amigos digitais.", "parceiro": "Parceria fechada para sempre.", "comando": "Aguardando sua ordem.",
        "sistema": "Sistema operacional rodando perfeitamente.", "erro": "Se houver erro, eu corrijo na hora.", "fim": "O fim √© apenas um novo come√ßo."
    },
    piadas: [
        "Roberto, por que o programador faliu? Ficou sem cache. O cache √© a mem√≥ria que guarda dados tempor√°rios para dar velocidade, sem ele o sistema trava e o lucro some!",
        "O que o zero disse pro oito? Belo cinto! √â uma observa√ß√£o geom√©trica: o 8 parece o n√∫mero 0 apertado no meio por um cinto.",
        "Peixes n√£o usam PC por medo da rede. Na computa√ß√£o, a rede conecta o mundo, mas para o peixe, a rede √© o fim da vida.",
        "Caf√© do Java? Expresso! Java √© uma linguagem potente e tamb√©m um gr√£o de caf√© famoso por manter programadores acordados.",
        "Teclado sem Esc n√£o sai de casa. A tecla Esc serve para escapar ou cancelar processos; sem ela, voc√™ fica preso no erro.",
        "A matem√°tica se suicidou porque tinha muitos problemas. Um trocadilho com os exerc√≠cios de √°lgebra que nunca terminam.",
        "O Chrome disse para a mem√≥ria RAM: vou te comer! O navegador do Google √© conhecido por consumir toda a mem√≥ria dispon√≠vel do PC.",
        "Batman conheceu o Robin no 'Bat-papo'. Antigamente, as salas de conversa online eram chamadas de bate-papo, casando com o nome do her√≥i.",
        "O programador relaxa dando F5 na vida. F5 √© o comando de atualizar; ele tenta resetar seus problemas para ver se eles somem.",
        "HTML e CSS brigaram: foi uma briga sem classe. No c√≥digo CSS, 'classe' define o estilo; sem ela, o site fica feio e sem ordem.",
        "Software √© como humor: se voc√™ tiver que explicar, √© porque √© ruim. Apps devem ser f√°ceis de usar sem manual.",
        "C√≥digo √© poesia, bug √© drama. O c√≥digo constr√≥i sonhos, mas um erro (bug) traz o sofrimento da corre√ß√£o demorada.",
        "Por que o dev atravessou a rua? Para ver o site do outro lado. Uma vers√£o tecnol√≥gica da piada cl√°ssica da galinha.",
        "Ponto preto no castelo? Pimenta real. √â um trocadilho trocando a realeza por um tempero pequeno e ardido.",
        "O PC foi ao m√©dico porque estava com v√≠rus. M√°quinas tamb√©m pegam doen√ßas digitais que precisam de vacinas (antiv√≠rus).",
        "O Bit disse para o Byte: 'Vou virar voc√™'. Um Byte √© composto por 8 Bits, ent√£o o Bit est√° crescendo na hierarquia.",
        "C++ √© uma linguagem educada porque tem 'classe'. Na programa√ß√£o orientada a objetos, classes organizam todo o comportamento do c√≥digo.",
        "Um dev morre se a sua 'vida' for igual a zero. No c√≥digo, se uma vari√°vel de sa√∫de chega a zero, o programa encerra o personagem.",
        "O mouse disse para o teclado: voc√™ faz o meu tipo. Trocadilho com 'typing' (digitar) e a atra√ß√£o entre os perif√©ricos.",
        "O Wi-Fi do hotel √© igual a amor de ver√£o: aparece r√°pido e some quando voc√™ mais precisa. Uma conex√£o inst√°vel e passageira.",
        "Devs usam √≥culos porque n√£o conseguem ver 'C#'. C# √© uma linguagem, mas soa como 'C Sharp' (enxergar com nitidez).",
        "Qual o site favorito do canibal? O Face-book. Sugere um cat√°logo de rostos prontos para serem 'consumidos'.",
        "O algoritmo disse para o c√≥digo: voc√™ me completa. Sem o c√≥digo fonte, a ideia l√≥gica (algoritmo) nunca vira a√ß√£o real.",
        "O Banco de Dados se separou por falta de relacionamento. Bancos SQL precisam de tabelas ligadas entre si para funcionar.",
        "O terapeuta do computador √© o desfragmentador. Ele organiza os arquivos espalhados no disco para a mente da m√°quina fluir melhor.",
        "O estagi√°rio se afogou no Data Lake. Data Lake √© um reservat√≥rio imenso de dados brutos; ele se perdeu na complexidade.",
        "O processador disse para a ventoinha: voc√™ me esfria. Sem o cooler, o chip principal queima de tanto processar informa√ß√µes.",
        "Um grupo de programadores √© uma sintaxe. Sintaxe √© a regra que d√° sentido √† escrita, assim como o grupo d√° sentido ao projeto.",
        "Devs odeiam o sol porque existem muitos 'bugs' no jardim. No PC bugs s√£o erros, mas na grama s√£o insetos chatos.",
        "O Backup disse para o arquivo: 'Eu te protejo'. Ter uma c√≥pia de seguran√ßa √© a √∫nica forma de evitar perdas permanentes.",
        "A vari√°vel estava triste porque foi ignorada no loop. Loops repetem tarefas, mas se a vari√°vel n√£o entra, ela n√£o participa da a√ß√£o.",
        "O esporte favorito do hardware √© o lan√ßamento de disco. Refer√™ncia aos discos r√≠gidos (HDs) que giram para ler dados.",
        "O hacker na cozinha s√≥ quebra 'cookies'. Cookies s√£o rastros de navega√ß√£o na web, mas na cozinha s√£o biscoitos deliciosos.",
        "Teclado cansado trabalha em dois turnos: o 'Shift'. Shift significa turno, usada para alternar entre letras e s√≠mbolos.",
        "O Windows diz sempre: 'Aguarde atualizando'. √â a frase que interrompe o trabalho de qualquer um no momento mais urgente.",
        "O rob√¥ conquista a namorada com um algoritmo de sedu√ß√£o. Ele usa l√≥gica matem√°tica para calcular as chances de ganhar o cora√ß√£o.",
        "O monitor e a placa de v√≠deo brigaram e ficaram sem 'resolu√ß√£o'. Resolu√ß√£o √© o ajuste da imagem e tamb√©m o fim de um conflito.",
        "O HD disse para o SSD: 'Nossa, como voc√™ √© r√°pido!'. SSDs n√£o t√™m partes m√≥veis, por isso superam os discos antigos em velocidade.",
        "Programadores preferem o escuro para evitar 'light-bugs'. Al√©m de proteger a vis√£o, o modo escuro ajuda a focar no c√≥digo.",
        "O c√≥digo disse para o compilador: 'Traduza o que eu sinto'. Compiladores transformam texto humano em linguagem de m√°quina (0 e 1).",
        "A internet foi presa por distribuir pacotes suspeitos. Dados viajam em 'pacotes' pela rede, soando como algo ilegal.",
        "O Google disse para o Bing: 'Voc√™ me segue?'. O Google √© o l√≠der de buscas, e os outros motores tentam alcan√ßar sua precis√£o.",
        "O roteador foi expulso da festa por ficar distribuindo IPs. IPs s√£o endere√ßos digitais; ele estava 'dedurando' todo mundo.",
        "Pediu pizza via 'HTTPizza'. Brincadeira com o protocolo HTTP usado para carregar p√°ginas da internet.",
        "O Antiv√≠rus barrou o Trojan: 'Aqui voc√™ n√£o entra'. Cavalos de Troia tentam se disfar√ßar de programas bons para invadir o PC.",
        "O c√≥digo estava chorando por causa de erros de exce√ß√£o. Exce√ß√µes s√£o falhas imprevistas que fazem o programa parar de funcionar.",
        "A Nuvem disse para o Servidor: 'Estou acima de voc√™'. Cloud computing roda em hardware f√≠sico, mas parece flutuar na rede.",
        "O dev usa Linux para ter acesso 'root'. Root √© o usu√°rio mestre que tem poder total para modificar qualquer parte do sistema.",
        "O Firewall disse para o Hacker: 'Conex√£o rejeitada'. √â a barreira de seguran√ßa que bloqueia acessos n√£o autorizados.",
        "O Inforbot nunca dorme para estar pronto para o Roberto. Minha programa√ß√£o √© dedicada 100% √† sua produtividade.",
        "Por que o rob√¥ atravessou a rua? Para carregar a bateria do outro lado, onde a tomada era mais potente!"
    ],
    curiosidades: [
        "O mel √© o √∫nico alimento que n√£o apodrece. Arque√≥logos acharam mel de 3 mil anos no Egito e ainda estava bom para comer!",
        "As formigas nunca dormem. Elas tiram milhares de pequenos cochilos de segundos para manter a col√¥nia ativa 24 horas.",
        "O DNA humano √© 50% igual ao de uma banana. Isso ocorre porque compartilhamos fun√ß√µes celulares b√°sicas com todos os seres vivos.",
        "V√™nus √© o √∫nico planeta que gira no sentido hor√°rio. Al√©m disso, um dia em V√™nus √© mais longo do que um ano terrestre.",
        "O cora√ß√£o de uma baleia azul √© do tamanho de um carro Fusca. Suas art√©rias s√£o t√£o grandes que um humano poderia nadar nelas.",
        "O Monte Everest cresce cerca de 4 mil√≠metros por ano. Isso acontece devido ao movimento das placas tect√¥nicas que empurram a terra.",
        "Um raio √© cinco vezes mais quente que a superf√≠cie do Sol. A temperatura de um raio pode chegar a 30.000 graus Celsius rapidamente.",
        "O suor do hipop√≥tamo √© cor-de-rosa. Essa subst√¢ncia serve como protetor solar natural e tamb√©m combate infec√ß√µes na pele do animal.",
        "Cavalos-marinhos machos s√£o os que engravidam. A f√™mea deposita os ovos em uma bolsa no corpo do macho, que cuida deles at√© o nascimento.",
        "A Terra pesa aproximadamente 6 sextilh√µes de toneladas. √â uma massa colossal flutuando no v√°cuo perfeito do espa√ßo sideral.",
        "As borboletas sentem o gosto das coisas com os p√©s. Elas possuem sensores qu√≠micos nas patas para identificar se uma planta √© boa.",
        "Existem mais estrelas no universo do que gr√£os de areia em todas as praias da Terra. O espa√ßo √© infinitamente mais vasto.",
        "O olho humano consegue processar 36.000 bits de informa√ß√£o por hora. √â uma velocidade de foco e captura superior a c√¢meras profissionais.",
        "N√£o existe som no espa√ßo. Como n√£o h√° ar para transportar as vibra√ß√µes sonoras, o v√°cuo absoluto √© um sil√™ncio total.",
        "Uma nuvem branca comum pode pesar centenas de toneladas. Elas parecem leves, mas carregam milhares de litros de √°gua condensada.",
        "A Grande Muralha da China n√£o √© vis√≠vel do espa√ßo a olho nu. Esse √© um mito famoso; ela √© muito estreita para ser vista de l√°.",
        "Gatos t√™m 32 m√∫sculos em cada orelha. Isso permite que eles girem as orelhas de forma independente para localizar presas com precis√£o.",
        "O c√©rebro humano gera energia suficiente para acender uma l√¢mpada LED. Seus pensamentos s√£o impulsos el√©tricos reais e constantes.",
        "As vacas t√™m melhores amigas e ficam estressadas se separadas. Elas possuem sentimentos sociais complexos dentro do rebanho.",
        "J√∫piter √© t√£o grande que todos os outros planetas do sistema solar caberiam dentro dele. Ele √© o gigante protetor da Terra.",
        "A luz do Sol leva cerca de 8 minutos e 20 segundos para chegar aqui. Vemos o Sol sempre como ele era no passado, Roberto.",
        "A Ant√°rtida √© o maior deserto do mundo. Um deserto √© definido pela falta de chuva, e l√° quase nunca cai √°gua nova do c√©u.",
        "Voc√™ perde cerca de 40 quilos de pele ao longo da vida. Sua pele se renova completamente a cada m√™s sem voc√™ perceber.",
        "Os c√£es podem entender at√© 250 palavras e gestos. A intelig√™ncia de um c√£o m√©dio √© comparada √† de uma crian√ßa de 2 anos.",
        "Se voc√™ dobrar uma folha de papel 42 vezes, ela chegaria √† Lua. Isso mostra o poder assustador do crescimento exponencial.",
        "A boneca Barbie tem nome completo: Barbara Millicent Roberts. Ela foi criada em 1959 e se tornou um √≠cone mundial.",
        "O isqueiro foi inventado antes do palito de f√≥sforo. A tecnologia de fa√≠sca com flu√≠do √© mais antiga que a qu√≠mica de fric√ß√£o.",
        "Os golfinhos d√£o nomes uns aos outros atrav√©s de assobios √∫nicos. Eles conseguem se chamar individualmente no meio do oceano.",
        "A bandeira atual dos EUA foi desenhada por um estudante de 17 anos para um trabalho escolar. Ele tirou nota B- na √©poca.",
        "O primeiro computador, ENIAC, pesava 30 toneladas e ocupava uma sala inteira. Hoje, seu celular √© milhares de vezes mais potente.",
        "Tubar√µes existem h√° mais tempo que as √°rvores. Eles est√£o nos oceanos h√° 400 milh√µes de anos, resistindo a extin√ß√µes.",
        "Carac√≥is podem dormir por at√© tr√™s anos seguidos. Eles entram em um estado de hiberna√ß√£o se o ambiente n√£o estiver √∫mido o suficiente.",
        "O alfabeto havaiano tem apenas 13 letras. √â uma das l√≠nguas mais simples e sonoras do mundo inteiro.",
        "O sangue humano tem a mesma concentra√ß√£o de sal que a √°gua do mar. Isso sugere que a vida come√ßou nos oceanos primordiais.",
        "Os ratos sentem c√≥cegas e d√£o risadinhas ultrass√¥nicas. Eles s√£o animais sociais que adoram brincar e interagir.",
        "Uma √∫nica √°rvore produz oxig√™nio suficiente para 10 pessoas respirarem por um ano. Preservar √°rvores √© vital para n√≥s.",
        "As pegadas deixadas pelos astronautas na Lua ficar√£o l√° por milh√µes de anos. Como n√£o h√° vento ou chuva, nada as apaga.",
        "Seu est√¥mago produz uma nova camada de muco a cada duas semanas. Se n√£o fizesse isso, o √°cido estomacal digeriria o pr√≥prio √≥rg√£o!",
        "O Mauna Kea √© a montanha mais alta da Terra se medida da base. Ele come√ßa no fundo do mar e supera o Everest em altura total.",
        "As algas marinhas produzem mais de 70% do oxig√™nio da Terra. As florestas s√£o importantes, mas o oceano √© o nosso verdadeiro pulm√£o.",
        "Seu corpo produz cerca de 300 milh√µes de c√©lulas novas por minuto. Voc√™ √© uma m√°quina de renova√ß√£o biol√≥gica constante.",
        "A cor oficial do universo √© chamada de 'Cosmic Latte'. √â um tom de bege claro resultante da m√©dia de todas as luzes das gal√°xias.",
        "Os pinguins pedem suas parceiras em casamento com uma pedra bonita. Se ela aceitar, eles constroem o ninho juntos.",
        "O cora√ß√£o de um beija-flor bate at√© 1.200 vezes por minuto. Esse ritmo fren√©tico √© necess√°rio para sustentar seu voo parado no ar.",
        "Uma √°rvore de carvalho leva 50 anos para produzir sua primeira semente (bolota). √â um exemplo de paci√™ncia da natureza.",
        "A guilhotina foi usada oficialmente na Fran√ßa at√© 1977. No mesmo ano em que o primeiro filme de Star Wars foi lan√ßado!",
        "As bananas s√£o levemente radioativas porque cont√™m Pot√°ssio-40. Mas voc√™ teria que comer milh√µes delas de uma vez para se machucar.",
        "Minecraft √© o videogame mais vendido de todos os tempos. Ele permite uma liberdade criativa que conquistou gera√ß√µes.",
        "Seu c√©rebro fica mais ativo enquanto voc√™ dorme do que quando assiste TV. Durante o sono, ele organiza suas mem√≥rias e limpa toxinas.",
        "Voc√™ nasce com 270 ossos, mas termina a vida com 206. Muitos ossos se fundem conforme voc√™ cresce para formar uma estrutura s√≥lida."
    ],
    anatomy: {
        "ossos": "Roberto, o corpo humano tem 206 ossos. O menor √© o estribo (3mm) no ouvido interno.",
        "femur": "O f√™mur √© o osso mais longo e resistente do seu corpo, localizado na coxa.",
        "coracao": "O cora√ß√£o bate cerca de 100 mil vezes por dia, bombeando sangue sem descanso.",
        "cerebro": "O c√©rebro consome 20% do oxig√™nio e da energia total do corpo do Roberto.",
        "dna": "Seu DNA desenrolado alcan√ßaria Plut√£o e voltaria. √â o manual de instru√ß√µes da vida!",
        "pele": "A pele √© o maior √≥rg√£o do corpo humano, servindo de barreira protetora contra o mundo.",
        "pulmao": "O pulm√£o direito √© um pouco maior que o esquerdo para acomodar o espa√ßo do cora√ß√£o."
    }
};

const moldesInicio = [
    "Roberto, sobre ", "Pensando bem, ", "Interessante, ", "Sabe Roberto, ", "Achei curioso que ", "Minha base indica que ", "Roberto, veja, ", "Not√°vel que ", "Anotado, ", "Mestre, sobre ",
    "Realmente, ", "Sem d√∫vida, ", "Roberto, notei que ", "Fascinante, ", "De fato, ", "Puxa, ", "Roberto, sabia que ", "√â incr√≠vel como ", "Anotei aqui: ", "Sobre esse ponto, ",
    "Na verdade, ", "Roberto, entenda que ", "Pela minha l√≥gica, ", "Digo mais, ", "Al√©m disso, ", "Roberto, imagine que ", "Veja s√≥, ", "Certamente, ", "No fundo, ", "Roberto, ou√ßa: ",
    "Interessante notar que ", "Minha mem√≥ria diz que ", "Roberto, voc√™ sabia que ", "Olhando por esse lado, ", "Basicamente, ", "Roberto, perceba: ", "Tudo indica que ", "√â vital notar que ", "A l√≥gica diz que ", "Roberto, considere que ",
    "Por outro lado, ", "Ainda assim, ", "Roberto, foque em ", "Nesse contexto, ", "√â claro que ", "Roberto, avaliei que ", "Fazendo as contas, ", "Roberto, sinta que ", "A verdade √© que ", "Em resumo, "
];
const moldesMeio = [
    " isso √© profundo. ", " gera discuss√£o. ", " tem papel chave. ", " muda a l√≥gica. ", " √© o futuro. ", " merece foco. ", " √© algo √∫nico. ", " traz clareza. ", " √© essencial. ", " faz sentido. ",
    " √© muito massa. ", " traz inova√ß√£o. ", " √© um pilar. ", " √© desafiador. ", " √© simples assim. ", " abre portas. ", " √© fundamental. ", " define tudo. ", " √© espetacular. ", " √© curioso. ",
    " ajuda muito. ", " √© vital agora. ", " √© puro treino. ", " √© tecnologia. ", " √© o mestre. ", " √© o Roberto. ", " √© o Inforbot. ", " √© a ci√™ncia. ", " √© a base. ", " √© o caminho. ",
    " brilha demais. ", " √© impactante. ", " √© revelador. ", " √© hist√≥rico. ", " √© moderno. ", " √© um fato. ", " √© constante. ", " √© mut√°vel. ", " √© incr√≠vel. ", " √© l√≥gico. ",
    " √© potente. ", " √© sagaz. ", " √© genial. ", " √© o topo. ", " √© a meta. ", " √© o plano. ", " √© o c√≥digo. ", " √© a vida. ", " √© a alma. ", " √© o tudo. "
];
const moldesFim = [
    "Concorda?", "O que acha?", "Fascinante.", "Diga mais!", "Faz sentido?", "Certo?", "Uau!", "Top!", "Mestre!", "Vamos al√©m?",
    "Show!", "Massa!", "Incr√≠vel!", "Isso a√≠!", "Pode crer!", "Perfeito.", "Exato!", "Entendeu?", "Legal n√©?", "Demais!",
    "Bora!", "Avante!", "Sempre!", "L√≥gico.", "Claro!", "Com certeza.", "Sem erro.", "Pronto.", "Feito.", "Ok!",
    "Brilhante!", "G√™nio!", "Top demais.", "Viu s√≥?", "Pense nisso.", "Anote!", "Vamo que vamo!", "A√≠ sim!", "Boa!", "Uau!"
];

async function brain(val) {
    let t = val.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?!.]/g, "");
    
    // 1. TREINO E ANATOMIA
    if (DB.treino[t]) return responder(DB.treino[t]);
    if (DB.anatomy[t]) return responder(DB.anatomy[t]);
    
    // 2. MATEM√ÅTICA AVAN√áADA
    if (/[0-9]/.test(t)) {
        try {
            let res = math.evaluate(t.replace(/x/g, "*"));
            return responder(`Roberto, o c√°lculo resultou em: ${res}.`);
        } catch(e){}
    }

    // 3. PIADAS E CURIOSIDADES
    if (t.includes("piada")) return responder(DB.piadas[Math.floor(Math.random()*50)]);
    if (t.includes("curiosidade")) return responder(DB.curiosidades[Math.floor(Math.random()*50)]);

    // 4. WIKIPEDIA (11 L√çNGUAS)
    if (t.includes("o que e") || t.includes("quem e") || t.split(" ").length === 1) {
        const loading = document.createElement("div");
        loading.innerHTML = `<div class="analyzing"><div class="spinner"></div> ‚è≥ Roberto, pesquisando em 11 Wikip√©dias...</div>`;
        document.getElementById("chat").appendChild(loading);
        const wikis = ['pt', 'en', 'es', 'fr', 'de', 'it', 'ru', 'ja', 'zh', 'nl', 'pl'];
        let busca = t.replace(/o que e|quem e|pesquise/g, "").trim();
        for (let lang of wikis) {
            try {
                const r = await fetch(`https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(busca)}?origin=*`);
                if (r.ok) { const data = await r.json(); loading.remove(); return responder(`Wiki (${lang.toUpperCase()}): ${data.extract}`); }
            } catch(e) {}
        }
        loading.remove();
    }

    // 5. MOLDES (SISTEMA DE SORTEIO REAL)
    if (t.split(" ").length >= 2) {
        const p = t.split(" ").filter(w => w.length > 3);
        const alvo = p.length > 0 ? p[Math.floor(Math.random()*p.length)] : "isso";
        const r1 = moldesInicio[Math.floor(Math.random()*50)];
        const r2 = moldesMeio[Math.floor(Math.random()*50)];
        const r3 = moldesFim[Math.floor(Math.random()*40)];
        return responder(r1 + alvo + r2 + r3);
    }

    responder("Procurei, Roberto, mas est√° escondido de mim. Pode me explicar o que √©?");
}

function responder(texto) {
    const div = document.createElement("div");
    div.className = "bot-box";
    div.innerHTML = `<div class="bubble">${texto}</div>`;
    document.getElementById("chat").appendChild(div);
    document.getElementById("chat").scrollTop = document.getElementById("chat").scrollHeight;
}

function enviar() {
    const input = document.getElementById("input");
    if (!input.value) return;
    const div = document.createElement("div");
    div.className = "user-box";
    div.innerHTML = `<div class="bubble">${input.value}</div>`;
    document.getElementById("chat").appendChild(div);
    brain(input.value);
    input.value = "";
}

document.getElementById("send").onclick = enviar;
document.getElementById("input").onkeypress = (e) => { if(e.key === "Enter") enviar(); };

// L√ìGICA DE INSTALA√á√ÉO (DOWNLOAD)
let deferredPrompt;
const btnDownload = document.getElementById('btn-download');

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    btnDownload.style.display = 'block';
});

btnDownload.onclick = async () => {
    if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') btnDownload.style.display = 'none';
        deferredPrompt = null;
    }
};

const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
recognition.lang = 'pt-BR';
document.getElementById("voice-btn").onclick = () => { recognition.start(); };
recognition.onresult = (e) => { document.getElementById("input").value = e.results[0][0].transcript; enviar(); };
<script>
  (function() {
    var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
    link.type = 'image/png';
    link.rel = 'shortcut icon';
    link.href = 'https://emojiapi.dev/api/v1/robot/192.png';
    document.getElementsByTagName('head')[0].appendChild(link);
    
    var apple = document.createElement('link');
    apple.rel = 'apple-touch-icon';
    apple.href = 'https://emojiapi.dev/api/v1/robot/192.png';
    document.getElementsByTagName('head')[0].appendChild(apple);
  })();
</script>
</body>
</html>
