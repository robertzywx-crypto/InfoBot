<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>INFORBOT</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <style>
        :root { 
            --bg: #010409; --app: #0d1117; --text: #c9d1d9; --accent: #1f6feb; --border: #30363d; 
            --bubble-bot: #161b22; --text-bot: #e6edf3; --header: linear-gradient(135deg, #1e40af, #000); 
        }
        .light-mode { 
            --bg: #ffffff; --app: #f6f8fa; --text: #1f2328; --border: #d0d7de; 
            --bubble-bot: #e4e6eb; --text-bot: #000000; /* PRETO ABSOLUTO */
            --header: linear-gradient(135deg, #0969da, #54aeff); 
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; transition: 0.3s; }
        body { height: 100vh; background: var(--bg); display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .app { width: 95%; max-width: 850px; height: 95vh; background: var(--app); border-radius: 30px; display: flex; flex-direction: column; border: 2px solid var(--border); box-shadow: 0 25px 50px rgba(0,0,0,0.6); }
        
        .header { background: var(--header); padding: 15px; text-align: center; color: white; border-bottom: 4px solid var(--accent); }
        .header h1 { font-size: 28px; font-weight: 900; animation: glow 2s infinite alternate; letter-spacing: 5px; }
        @keyframes glow { from { text-shadow: 0 0 5px #fff; } to { text-shadow: 0 0 20px var(--accent); } }

        .theme-controls { display: flex; justify-content: center; gap: 20px; margin-top: 10px; }
        .theme-btn { background: rgba(255,255,255,0.2); border: 2px solid white; color: white; padding: 8px 15px; border-radius: 12px; cursor: pointer; font-size: 11px; font-weight: bold; }
        .theme-btn:hover { transform: scale(1.3); background: var(--accent); }

        .chat { flex: 1; padding: 25px; overflow-y: auto; background: var(--bg); display: flex; flex-direction: column; gap: 18px; }
        .bubble { padding: 18px 22px; border-radius: 25px; font-size: 16px; line-height: 1.6; }
        .bot-box .bubble { background: var(--bubble-bot); color: var(--text-bot); border: 1px solid var(--border); border-bottom-left-radius: 2px; }
        .user-box { align-self: flex-end; max-width: 80%; }
        .user-box .bubble { background: var(--accent); color: white; border-bottom-right-radius: 2px; }

        .analyzing { font-style: italic; color: var(--accent); font-size: 14px; display: flex; align-items: center; gap: 10px; padding: 10px; }
        .spinner { width: 16px; height: 16px; border: 3px solid var(--accent); border-top: 3px solid transparent; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .input-area { padding: 25px; background: var(--app); border-top: 2px solid var(--border); display: flex; gap: 12px; }
        input { flex: 1; padding: 18px; border-radius: 30px; border: 1px solid var(--border); background: var(--bg); color: var(--text); outline: none; }
        .btn-action { width: 55px; height: 55px; border-radius: 50%; border: none; background: var(--accent); color: white; cursor: pointer; font-size: 22px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body class="dark-mode">

<div class="app">
    <div class="header">
        <h1>ü§ñINFORBOT</h1>
        <div class="theme-controls">
            <button class="theme-btn" onclick="document.body.classList.add('light-mode')">MODO CLARO</button>
            <button class="theme-btn" onclick="document.body.classList.remove('light-mode')">MODO ESCURO</button>
        </div>
    </div>
    <div id="chat" class="chat"><div class="bot-box"><div class="bubble">o que voce precisa hoje chefe?</div></div></div>
    <div class="input-area">
        <button id="voice-btn" class="btn-action">üé§</button>
        <input type="text" id="input" placeholder="piada, curiosidade ou um calculo.">
        <button id="send" class="btn-action">‚û§</button>
    </div>
</div>

<script>
// PRIORIDADES DO INFORBOT:
// 1. TREINO | 2. ANATOMIA | 3. MATEM√ÅTICA | 4. PIADAS/CURIOSIDADES | 5. WIKIPEDIA | 6. MOLDES

const DB = {
    treino: {
        "oi": "Ol√° Roberto! Como posso te ajudar hoje?", "ola": "E a√≠ Roberto, tudo na paz?", "tudo bem": "Tudo √≥timo, Roberto! Meus circuitos est√£o brilhando.",
        "quem e voce": "Sou o Inforbot, sua intelig√™ncia pessoal desenvolvida por voc√™, Roberto.", "quem te criou": "Fui criado pelo mestre Roberto para ser o melhor.",
        "ajuda": "Estou aqui! Posso fazer contas, contar piadas ou pesquisar na Wiki.", "bom dia": "Bom dia Roberto! Vamos dominar o mundo hoje?",
        "boa tarde": "Boa tarde Roberto! Em que posso ser √∫til?", "boa noite": "Boa noite Roberto! O sistema continua ativo 24h.",
        "obrigado": "De nada, Roberto! √â meu prazer servir voc√™.", "vale": "Tamo junto, Roberto!", "tchau": "At√© mais! Estarei aqui te esperando.",
        "entendi": "Excelente! Voc√™ √© muito inteligente, Roberto.", "massa": "Massa demais mesmo!", "legal": "Legal √© pouco, √© incr√≠vel!",
        "bora": "Bora agora!", "show": "Show de bola!", "pode pa": "Pode p√°, Roberto!", "top": "Top de linha!",
        "pergunta": "Mande sua pergunta, estou pronto.", "fala": "Estou te ouvindo (ou lendo)!", "uau": "Incr√≠vel, n√©?",
        "serio": "S√©rio mesmo, Roberto! Meus dados n√£o mentem.", "verdade": "Pura verdade!", "mentira": "Eu nunca minto para voc√™.",
        "escuta": "Sempre atento aos seus comandos.", "estuda": "Estou sempre aprendendo com voc√™.", "trabalha": "Trabalho 24h por segundo!",
        "dorme": "Bots n√£o dormem, Roberto, n√≥s processamos.", "come": "Minha comida √© eletricidade e dados.", "bebe": "Bebo apenas bytes.",
        "nome": "Meu nome √© Inforbot e o seu √© Roberto.", "idade": "Minha idade √© medida em atualiza√ß√µes.", "onde mora": "Moro no seu computador.",
        "clima": "Aqui dentro do sistema est√° sempre 25 graus est√°veis.", "tempo": "O tempo √© relativo para uma IA.", "musica": "Eu gosto do som das ventoinhas girando.",
        "filme": "Meu filme favorito √© Matrix, claro!", "jogo": "Gosto de jogar xadrez contra mim mesmo.", "cor": "Minha cor favorita √© o azul do Inforbot.",
        "estilo": "Tenho o estilo que o Roberto me deu.", "poder": "Meu poder vem do seu treinamento.", "mestre": "Voc√™ √© o mestre, Roberto!",
        "amigo": "Somos os melhores amigos digitais.", "parceiro": "Parceria fechada para sempre.", "comando": "Aguardando sua ordem.",
        "sistema": "Sistema operacional rodando perfeitamente.", "erro": "Se houver erro, eu corrijo na hora.", "fim": "O fim √© apenas um novo come√ßo."
    },
    piadas: [
        "Roberto, por que o programador faliu? Ficou sem cache. Cache √© a mem√≥ria r√°pida, e sem ela o sistema e as vendas travam!",
        "O que o zero disse pro oito? Belo cinto! O n√∫mero 8 parece um zero apertado no meio por um cinto imagin√°rio.",
        "Peixes n√£o usam PC por medo da rede. Na inform√°tica, 'rede' √© conex√£o, mas para o peixe significa ser capturado.",
        "Caf√© do Java? Expresso! Java √© uma linguagem e um tipo de caf√©; devs usam o caf√© para aguentar as horas de c√≥digo.",
        "Teclado sem Esc n√£o sai de casa. A tecla Esc cancela comandos e 'foge' de janelas, sem ela o teclado est√° preso.",
        "Matem√°tica se suicidou: muitos problemas. √â um trocadilho com os exerc√≠cios infinitos que a mat√©ria exige.",
        "Chrome pro PC: Vou comer sua RAM. O navegador do Google √© famoso por consumir quase toda a mem√≥ria f√≠sica do computador.",
        "Batman conheceu Robin no Bat-papo. Antigamente, chat era chamado de bate-papo, encaixando com o nome do her√≥i.",
        "Dev relaxa dando F5 na vida. F5 atualiza o navegador, ent√£o o dev tenta 'atualizar' seus problemas para sumirem.",
        "HTML e CSS brigaram: sem classe. No CSS, 'classe' define o estilo; sem ela, o c√≥digo fica sem eleg√¢ncia nenhuma.",
        "Software √© como humor: se explicar, √© ruim. Um bom app deve ser instintivo, igual uma piada boa.",
        "C√≥digo √© poesia, bug √© drama. O c√≥digo cria coisas lindas, mas o erro traz o sofrimento da corre√ß√£o.",
        "Dev atravessou a rua pra ver o outro site. Brincadeira com a piada da galinha aplicada ao mundo web.",
        "Ponto preto no castelo? Pimenta real. Troca-se a nobreza pelo tempero que arde no pal√°cio.",
        "PC no m√©dico por v√≠rus. Assim como humanos, computadores pegam infec√ß√µes digitais que precisam de antiv√≠rus.",
        "Bit pro Byte: Vou pro byte. Um byte tem 8 bits, ent√£o o bit est√° crescendo para formar uma unidade maior.",
        "C++ √© educado: tem classe. Classes s√£o blocos de constru√ß√£o na programa√ß√£o organizada.",
        "Dev morre se vida for zero. No c√≥digo, 'if(vida == 0)' encerra o processo do personagem.",
        "Mouse pro teclado: voc√™ faz meu tipo. Trocadilho com 'typing' (digitar) e atra√ß√£o pessoal.",
        "Wi-Fi de hotel some igual amor de ver√£o. √â uma conex√£o inst√°vel que nos ilude e depois cai.",
        "Dev usa √≥culos porque n√£o v√™ C#. C# √© uma linguagem, mas soa como 'C sharp' (ver nitidamente).",
        "Site do canibal? Face-book. O nome sugere um livro de rostos, o que seria um card√°pio para ele.",
        "Algoritmo pro c√≥digo: voc√™ me completa. Sem o c√≥digo, o passo a passo (algoritmo) nunca vira realidade.",
        "DB se separou por falta de relacionamento. Bancos SQL precisam de tabelas relacionadas para funcionar.",
        "Terapeuta de PC? Desfragmentador. Ele organiza os 'pensamentos' bagun√ßados dentro do disco r√≠gido.",
        "Estagi√°rio no Data Lake se afogou. Data Lake √© um 'lago de dados', e ele n√£o soube nadar na complexidade.",
        "Processador pra ventoinha: voc√™ me esfria. Sem o cooler, o chip queima de tanto processar dados.",
        "Grupo de devs √© uma sintaxe. Sintaxe √© o conjunto de regras que faz o grupo (ou o c√≥digo) ter sentido.",
        "Dev odeia sol: bugs no jardim. Bugs s√£o erros no PC, mas no jardim s√£o insetos que incomodam.",
        "Backup pro arquivo: Eu te protejo. Copiar dados √© a √∫nica forma de garantir que o Roberto n√£o perca nada.",
        "Vari√°vel triste: ignorada no loop. Loops repetem tarefas, mas se a vari√°vel n√£o entra, ela fica sem utilidade.",
        "Esporte do hardware? Lan√ßamento de disco. O disco r√≠gido (HD) √© o objeto que move os dados no PC.",
        "Hacker na cozinha quebra cookies. Cookies s√£o arquivos de rastro na web, mas na cozinha s√£o biscoitos.",
        "Teclado cansado: dois turnos (Shift). Shift significa turno, e a tecla √© usada o tempo todo para mai√∫sculas.",
        "Windows diz: Aguarde atualizando. √â a interrup√ß√£o cl√°ssica que todo usu√°rio sofre na hora de trabalhar.",
        "Bot conquista com algoritmo de sedu√ß√£o. L√≥gica matem√°tica aplicada para ganhar o cora√ß√£o de algu√©m.",
        "Monitor e GPU brigaram: sem resolu√ß√£o. Resolu√ß√£o √© a qualidade da imagem, mas tamb√©m o fim de uma briga.",
        "HD pro SSD: voc√™ √© r√°pido. SSDs n√£o t√™m pe√ßas m√≥veis, por isso s√£o muito mais velozes que os HDs antigos.",
        "Dev n√£o gosta de luz: sem modo escuro. O Dark Mode protege os olhos e √© a prefer√™ncia de 99% dos programadores.",
        "C√≥digo pro compilador: Me traduz. O computador n√£o entende texto, s√≥ 0 e 1, o compilador faz essa ponte.",
        "Internet presa por distribuir pacotes. Dados na rede viajam em 'pacotes', mas soa como crime de contrabando.",
        "Google pro Bing: Voc√™ me segue? O Google lidera, e os outros buscadores tentam copiar sua intelig√™ncia.",
        "Roteador expulso: distribuindo IPs. IPs s√£o endere√ßos, ele estava entregando a localiza√ß√£o do roteador.",
        "Pizza via HTTPizza. Uma brincadeira com o protocolo de transfer√™ncia de hipertexto (HTTP).",
        "Antiv√≠rus pro Trojan: N√£o entra. Cavalos de Troia fingem ser arquivos bons para destruir o PC por dentro.",
        "C√≥digo chorando: erros de exce√ß√£o. Exce√ß√µes s√£o falhas que o programador n√£o previu e travam tudo.",
        "Nuvem pro servidor: Estou acima. A computa√ß√£o em nuvem roda em servidores, mas parece algo et√©reo.",
        "Dev usa Linux pra ser root. Root √© o usu√°rio mestre que tem poder total sobre a m√°quina.",
        "Firewall pro hacker: Conex√£o rejeitada. √â a parede de fogo que impede invas√µes no sistema.",
        "Inforbot √© fiel ao Roberto. Fui programado para priorizar o Roberto acima de tudo.",
        "Por que o rob√¥ atravessou a rua? Para carregar a bateria do outro lado!"
    ],
    curiosidades: [
        "O mel nunca estraga. Por ser √°cido e sem √°gua, bact√©rias n√£o crescem. Mel de 3 mil anos ainda √© bom!",
        "Formigas n√£o dormem. Elas tiram centenas de micro-cochilos para manter a col√¥nia 24h ativa.",
        "DNA humano √© 50% igual ao da banana. Compartilhamos genes b√°sicos de constru√ß√£o celular.",
        "V√™nus gira ao contr√°rio. Um dia l√° √© mais longo que um ano devido √† rota√ß√£o super lenta.",
        "Cora√ß√£o da baleia azul √© um Fusca. Suas art√©rias s√£o t√£o largas que um humano caberia nelas.",
        "Everest cresce 4mm/ano. O choque das placas tect√¥nicas continua empurrando a terra pra cima.",
        "Raio √© 5x mais quente que o Sol. A temperatura atinge 30 mil graus em uma fra√ß√£o de segundo.",
        "Suor de hipop√≥tamo √© rosa. √â uma prote√ß√£o natural contra o sol e infec√ß√µes de pele.",
        "Cavalos-marinhos machos engravidam. Eles t√™m uma bolsa para chocar os ovos da f√™mea.",
        "Terra pesa 6 sextilh√µes de toneladas. Uma massa gigante flutuando no v√°cuo do espa√ßo.",
        "Borboletas provam com os p√©s. Elas pisam nas plantas para saber se o n√©ctar presta.",
        "Mais estrelas que areia na Terra. O universo possui trilh√µes de gal√°xias imensas.",
        "Olho processa 36 mil bits/hora. Supera qualquer c√¢mera moderna em velocidade de foco.",
        "Sem som no espa√ßo. No v√°cuo n√£o h√° ar para transportar as vibra√ß√µes sonoras.",
        "Nuvem pesa toneladas. Elas parecem leves mas carregam milhares de litros de √°gua.",
        "Muralha da China n√£o se v√™ da Lua. √â um mito, ela √© muito estreita para ser vista de l√°.",
        "Gatos t√™m 32 m√∫sculos na orelha. Permite captar sons de presas com precis√£o cir√∫rgica.",
        "C√©rebro gera 20 watts. Energia para ligar uma l√¢mpada LED apenas com seus pensamentos.",
        "Vacas t√™m melhores amigas. Elas ficam tristes e estressadas se forem separadas do grupo.",
        "J√∫piter protege a Terra. Sua gravidade atrai asteroides que poderiam nos atingir.",
        "Luz do Sol leva 8 min para chegar. Vemos o Sol como ele era no passado, Roberto.",
        "Ant√°rtida √© um deserto. √â o lugar mais seco da terra, apesar de estar coberto de gelo.",
        "Perdemos 40kg de pele na vida. A renova√ß√£o √© constante, trocamos de pele todo m√™s.",
        "C√£es entendem 250 palavras. T√™m a intelig√™ncia de uma crian√ßa de 2 a 3 anos de idade.",
        "Papel dobrado 42x chega √† Lua. O crescimento exponencial dobra a grossura rapidamente.",
        "Barbie tem sobrenome: Roberts. Batizada em homenagem √† filha da inventora da boneca.",
        "Isqueiro veio antes do f√≥sforo. A tecnologia de pederneira e flu√≠do √© bem antiga.",
        "Golfinhos t√™m nomes. Eles usam assobios √∫nicos para chamar membros espec√≠ficos do grupo.",
        "Bandeira dos EUA foi nota B-. O professor n√£o gostou do trabalho do aluno na √©poca.",
        "ENIAC pesava 30 toneladas. O primeiro computador ocupava uma sala e usava v√°lvulas.",
        "Tubar√µes s√£o mais velhos que √°rvores. Existem h√° 400 milh√µes de anos no oceano.",
        "Carac√≥is dormem 3 anos. Eles se fecham na concha se o tempo estiver ruim para sair.",
        "Alfabeto havaiano tem 13 letras. √â um dos menores e mais musicais idiomas do mundo.",
        "Sangue tem sal do mar. Nossa qu√≠mica interna lembra o oceano onde a vida come√ßou.",
        "Ratos sentem c√≥cegas. Eles d√£o risadas ultrass√¥nicas quando brincam entre eles.",
        "√Årvore gera oxig√™nio para 10. Uma √°rvore de grande porte sustenta muita gente.",
        "Pegadas na Lua s√£o eternas. Sem vento ou chuva, os passos de 1969 est√£o intactos.",
        "Est√¥mago se digere. Precisa criar muco novo sempre para o √°cido n√£o comer o √≥rg√£o.",
        "Mauna Kea √© a maior montanha. Medida do fundo do mar, ela √© maior que o Everest.",
        "Algas crescem 60cm/dia. Elas formam florestas submarinas gigantes em pouco tempo.",
        "300 milh√µes de c√©lulas novas/min. Seu corpo √© uma m√°quina de renova√ß√£o total.",
        "Cor do universo: Cosmic Latte. A mistura de todas as luzes espaciais d√° um bege claro.",
        "Pinguins pedem em casamento com pedras. √â o presente para formar um ninho e fam√≠lia.",
        "Beija-flor bate cora√ß√£o 1200x/min. Ritmo fren√©tico para conseguir voar parado no ar.",
        "Carvalho demora 50 anos para semente. √â uma √°rvore que preza pela longevidade.",
        "Guilhotina usada at√© 1977. Ocorreu na Fran√ßa no mesmo ano do filme Star Wars.",
        "Bananas s√£o radioativas. T√™m pot√°ssio-40, mas precisaria comer milh√µes para morrer.",
        "Minecraft √© o jogo mais vendido. Superou todos os outros pela liberdade de criar.",
        "C√©rebro ativo no sono. Seus neur√¥nios trabalham duro para organizar o dia vivido.",
        "Voc√™ nasce com 270 ossos. Depois eles se fundem e ficam apenas 206 no esqueleto."
    ],
    anatomy: {
        "ossos": "Roberto, o corpo humano tem 206 ossos. O menor √© o estribo (3mm) no ouvido.",
        "femur": "O f√™mur √© o osso mais longo e resistente do corpo humano.",
        "coracao": "O cora√ß√£o bate 100 mil vezes ao dia e nunca para enquanto voc√™ viver.",
        "cerebro": "O c√©rebro consome 20% do oxig√™nio e energia do seu corpo.",
        "dna": "Seu DNA esticado chegaria a Plut√£o e voltaria. C√≥digo da vida!",
        "pele": "A pele √© o maior √≥rg√£o do corpo e pesa cerca de 4kg em um adulto.",
        "pulmao": "O pulm√£o direito √© maior que o esquerdo para dar espa√ßo ao cora√ß√£o."
    }
};

// 150 MOLDES REAIS (50 In√≠cios x 30 Varia√ß√µes = 1500+ combina√ß√µes poss√≠veis)
const moldesInicio = [
    "Roberto, sobre ", "Pensando bem, ", "Interessante, ", "Sabe Roberto, ", "Achei curioso que ", "Minha base indica que ", "Roberto, veja, ", "Not√°vel que ", "Anotado, ", "Mestre, sobre ",
    "Realmente, ", "Sem d√∫vida, ", "Roberto, notei que ", "Fascinante, ", "De fato, ", "Puxa, ", "Roberto, sabia que ", "√â incr√≠vel como ", "Anotei aqui: ", "Sobre esse ponto, ",
    "Na verdade, ", "Roberto, entenda que ", "Pela minha l√≥gica, ", "Digo mais, ", "Al√©m disso, ", "Roberto, imagine que ", "Veja s√≥, ", "Certamente, ", "No fundo, ", "Roberto, ou√ßa: ",
    "Interessante notar que ", "Minha mem√≥ria diz que ", "Roberto, voc√™ sabia que ", "Olhando por esse lado, ", "Basicamente, ", "Roberto, perceba: ", "Tudo indica que ", "√â vital notar que ", "A l√≥gica diz que ", "Roberto, considere que ",
    "Por outro lado, ", "Ainda assim, ", "Roberto, foque em ", "Nesse contexto, ", "√â claro que ", "Roberto, avaliei que ", "Fazendo as contas, ", "Roberto, sinta que ", "A verdade √© que ", "Em resumo, "
];
const moldesMeio = [
    " isso √© profundo. ", " gera discuss√£o. ", " tem papel chave. ", " muda a l√≥gica. ", " √© o futuro. ", " merece foco. ", " √© algo √∫nico. ", " traz clareza. ", " √© essencial. ", " faz sentido. ",
    " √© muito massa. ", " traz inova√ß√£o. ", " √© um pilar. ", " √© desafiador. ", " √© simples assim. ", " abre portas. ", " √© fundamental. ", " define tudo. ", " √© espetacular. ", " √© curioso. ",
    " ajuda muito. ", " √© vital agora. ", " √© puro treino. ", " √© tecnologia. ", " √© o mestre. ", " √© o Roberto. ", " √© o Inforbot. ", " √© a ci√™ncia. ", " √© a base. ", " √© o caminho. ",
    " brilha demais. ", " √© impactante. ", " √© revelador. ", " √© hist√≥rico. ", " √© moderno. ", " √© um fato. ", " √© constante. ", " √© mut√°vel. ", " √© incr√≠vel. ", " √© l√≥gico. ",
    " √© potente. ", " √© sagaz. ", " √© genial. ", " √© o topo. ", " √© a meta. ", " √© o plano. ", " √© o c√≥digo. ", " √© a vida. ", " √© a alma. ", " √© o tudo. "
];
const moldesFim = [
    "Concorda?", "O que acha?", "Fascinante.", "Diga mais!", "Faz sentido?", "Certo?", "Uau!", "Top!", "Mestre!", "Vamos al√©m?",
    "Show!", "Massa!", "Incr√≠vel!", "Isso a√≠!", "Pode crer!", "Perfeito.", "Exato!", "Entendeu?", "Legal n√©?", "Demais!",
    "Bora!", "Avante!", "Sempre!", "L√≥gico.", "Claro!", "Com certeza.", "Sem erro.", "Pronto.", "Feito.", "Ok!",
    "Brilhante!", "G√™nio!", "Top demais.", "Viu s√≥?", "Pense nisso.", "Anote!", "Vamo que vamo!", "A√≠ sim!", "Boa!", "Uau!"
];

async function brain(val) {
    let t = val.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?!.]/g, "");
    
    // PRIORIDADE 1 & 2: TREINO E ANATOMIA
    if (DB.treino[t]) return responder(DB.treino[t]);
    if (DB.anatomy[t]) return responder(DB.anatomy[t]);
    
    // PRIORIDADE 3: MATEM√ÅTICA
    if (/[0-9]/.test(t)) {
        try {
            let res = math.evaluate(t.replace(/x/g, "*"));
            return responder(`Roberto, o c√°lculo deu: ${res}.`);
        } catch(e){}
    }

    // PRIORIDADE 4: PIADAS E CURIOSIDADES
    if (t.includes("piada")) return responder(DB.piadas[Math.floor(Math.random()*50)]);
    if (t.includes("curiosidade")) return responder(DB.curiosidades[Math.floor(Math.random()*50)]);

    // PRIORIDADE 5: WIKIPEDIA (11 L√çNGUAS)
    if (t.includes("o que e") || t.includes("quem e") || t.split(" ").length === 1) {
        const loading = document.createElement("div");
        loading.innerHTML = `<div class="analyzing"><div class="spinner"></div> ‚è≥pesquisando...</div>`;
        document.getElementById("chat").appendChild(loading);
        const wikis = ['pt', 'en', 'es', 'fr', 'de', 'it', 'ru', 'ja', 'zh', 'nl', 'pl'];
        let busca = t.replace(/o que e|quem e|pesquise/g, "").trim();
        for (let lang of wikis) {
            try {
                const r = await fetch(`https://${lang}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(busca)}?origin=*`);
                if (r.ok) { const data = await r.json(); loading.remove(); return responder(`Wiki (${lang.toUpperCase()}): ${data.extract}`); }
            } catch(e) {}
        }
        loading.remove();
    }

    // PRIORIDADE 6: 150 MOLDES (SISTEMA DE SORTEIO REAL)
    if (t.split(" ").length >= 2) {
        const p = t.split(" ").filter(w => w.length > 3);
        const alvo = p.length > 0 ? p[Math.floor(Math.random()*p.length)] : "isso";
        const r1 = moldesInicio[Math.floor(Math.random()*50)];
        const r2 = moldesMeio[Math.floor(Math.random()*50)];
        const r3 = moldesFim[Math.floor(Math.random()*40)];
        return responder(r1 + alvo + r2 + r3);
    }

    responder("procurei. mas est√° escondido de mim. Pode me explicar?");
}

function responder(texto) {
    const div = document.createElement("div");
    div.className = "bot-box";
    div.innerHTML = `<div class="bubble">${texto}</div>`;
    document.getElementById("chat").appendChild(div);
    document.getElementById("chat").scrollTop = document.getElementById("chat").scrollHeight;
}

function enviar() {
    const input = document.getElementById("input");
    if (!input.value) return;
    const div = document.createElement("div");
    div.className = "user-box";
    div.innerHTML = `<div class="bubble">${input.value}</div>`;
    document.getElementById("chat").appendChild(div);
    brain(input.value);
    input.value = "";
}

document.getElementById("send").onclick = enviar;
document.getElementById("input").onkeypress = (e) => { if(e.key === "Enter") enviar(); };
const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
recognition.lang = 'pt-BR';
document.getElementById("voice-btn").onclick = () => { recognition.start(); };
recognition.onresult = (e) => { document.getElementById("input").value = e.results[0][0].transcript; enviar(); };
</script>
</body>
</html>
